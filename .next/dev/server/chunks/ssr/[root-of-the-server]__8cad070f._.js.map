{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20NextJs%20Project%20Samitha/my-nextjs-app%20-%20Postgres/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode, useCallback, useMemo } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface User {\r\n  id: number;\r\n  name: string;\r\n  username: string;\r\n  accessPages: string[];\r\n  isActive: boolean;\r\n  loginTime?: string;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  isLoading: boolean;\r\n  isAuthenticated: boolean;\r\n  login: (username: string, password: string, rememberMe?: boolean) => Promise<boolean>;\r\n  logout: () => void;\r\n  hasAccess: (page: string) => boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  // Auto logout timer for inactive users\r\n  useEffect(() => {\r\n    let timer: NodeJS.Timeout | null = null;\r\n    if (user && !user.isActive) {\r\n      timer = setTimeout(() => {\r\n        setUser(null);\r\n        localStorage.removeItem('currentUser');\r\n        localStorage.removeItem('rememberLogin');\r\n        sessionStorage.removeItem('currentUser');\r\n        localStorage.setItem('logout', Date.now().toString());\r\n        router.push('/login');\r\n      }, 5 * 60 * 1000); // 5 minutes\r\n    }\r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n    };\r\n  }, [user, router]);\r\n\r\n  const isAuthenticated = !!user;\r\n\r\n  // Load user from storage on app start\r\n  useEffect(() => {\r\n    const loadUser = () => {\r\n      try {\r\n        // Check session storage first, then local storage\r\n        let storedUser = sessionStorage.getItem('currentUser');\r\n        if (!storedUser) {\r\n          storedUser = localStorage.getItem('currentUser');\r\n        }\r\n\r\n        if (storedUser) {\r\n          const userData = JSON.parse(storedUser);\r\n          if (userData && userData.username) {\r\n            console.log('Loading user from storage:', userData.username);\r\n            setUser(userData);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading user from storage:', error);\r\n        // Clear invalid data\r\n        localStorage.removeItem('currentUser');\r\n        sessionStorage.removeItem('currentUser');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    // Small delay to ensure storage operations from login page have completed\r\n    const timeoutId = setTimeout(loadUser, 10);\r\n    \r\n    return () => clearTimeout(timeoutId);\r\n  }, []);\r\n\r\n  // Listen for storage changes (when user logs in from another tab or the login page)\r\n  useEffect(() => {\r\n    const handleStorageChange = (e: StorageEvent) => {\r\n      if (e.key === 'logout') {\r\n        // Force logout in all tabs\r\n        setUser(null);\r\n        localStorage.removeItem('currentUser');\r\n        localStorage.removeItem('rememberLogin');\r\n        sessionStorage.removeItem('currentUser');\r\n        deleteCookie('currentUser'); // Clear cookie\r\n        // Always redirect to login\r\n        if (window.location.pathname !== '/login') {\r\n          window.location.href = '/login';\r\n        }\r\n        return;\r\n      }\r\n      if (e.key === 'currentUser' || e.key === null) {\r\n        // Reload user data when storage changes\r\n        try {\r\n          let storedUser = sessionStorage.getItem('currentUser');\r\n          if (!storedUser) {\r\n            storedUser = localStorage.getItem('currentUser');\r\n          }\r\n          if (storedUser) {\r\n            const userData = JSON.parse(storedUser);\r\n            if (userData && userData.username) {\r\n              setUser(userData);\r\n            }\r\n          } else {\r\n            setUser(null);\r\n          }\r\n        } catch (error) {\r\n          setUser(null);\r\n        }\r\n      }\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n    \r\n    // Also listen for custom events from the same tab\r\n    const handleAuthChange = () => {\r\n      try {\r\n        let storedUser = sessionStorage.getItem('currentUser');\r\n        if (!storedUser) {\r\n          storedUser = localStorage.getItem('currentUser');\r\n        }\r\n\r\n        if (storedUser) {\r\n          const userData = JSON.parse(storedUser);\r\n          if (userData && userData.username) {\r\n            console.log('User data reloaded from auth change:', userData.username);\r\n            setUser(userData);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error handling auth change:', error);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('authChange', handleAuthChange);\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n      window.removeEventListener('authChange', handleAuthChange);\r\n    };\r\n  }, []);\r\n\r\n  // Cookie management functions\r\n  const setCookie = useCallback((name: string, value: string, days: number = 7) => {\r\n    const expires = new Date();\r\n    expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);\r\n    document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/;SameSite=Strict`;\r\n  }, []);\r\n\r\n  const deleteCookie = useCallback((name: string) => {\r\n    document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`;\r\n  }, []);\r\n\r\n  const login = useCallback(async (username: string, password: string, rememberMe: boolean = false): Promise<boolean> => {\r\n    try {\r\n      const response = await fetch('/api/auth/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        return false;\r\n      }\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success && result.user) {\r\n        const userData = {\r\n          ...result.user,\r\n          loginTime: new Date().toISOString()\r\n        };\r\n\r\n        setUser(userData);\r\n\r\n        // Store user data\r\n        if (rememberMe) {\r\n          localStorage.setItem('currentUser', JSON.stringify(userData));\r\n          localStorage.setItem('rememberLogin', 'true');\r\n          setCookie('currentUser', JSON.stringify(userData), 7); // 7 days\r\n        } else {\r\n          sessionStorage.setItem('currentUser', JSON.stringify(userData));\r\n          setCookie('currentUser', JSON.stringify(userData), 1); // 1 day for session\r\n          // Clear any previous remember me data\r\n          localStorage.removeItem('currentUser');\r\n          localStorage.removeItem('rememberLogin');\r\n        }\r\n\r\n        // Trigger custom event to notify other components\r\n        window.dispatchEvent(new CustomEvent('authChange'));\r\n\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      return false;\r\n    }\r\n  }, [setCookie]);\r\n\r\n  const logout = useCallback(async () => {\r\n    try {\r\n      // Call logout API\r\n      await fetch('/api/auth/logout', {\r\n        method: 'POST',\r\n      });\r\n    } catch (error) {\r\n      console.error('Logout API error:', error);\r\n    } finally {\r\n      // Clear user state and storage\r\n      setUser(null);\r\n      localStorage.removeItem('currentUser');\r\n      localStorage.removeItem('rememberLogin');\r\n      sessionStorage.removeItem('currentUser');\r\n      deleteCookie('currentUser'); // Clear cookie\r\n      // Broadcast logout to all tabs\r\n      localStorage.setItem('logout', Date.now().toString());\r\n      // Redirect to login\r\n      router.push('/login');\r\n    }\r\n  }, [router, deleteCookie]);\r\n\r\n  const hasAccess = useCallback((page: string): boolean => {\r\n    if (!user || !user.isActive) {\r\n      return false;\r\n    }\r\n\r\n    // Check if user has access to the specific page\r\n    return user.accessPages.includes(page);\r\n  }, [user]);\r\n\r\n  const contextValue: AuthContextType = useMemo(() => ({\r\n    user,\r\n    isLoading,\r\n    isAuthenticated,\r\n    login,\r\n    logout,\r\n    hasAccess,\r\n  }), [user, isLoading, isAuthenticated, login, logout, hasAccess]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = (): AuthContextType => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Hook for protected pages\r\nexport const useRequireAuth = (requiredPage?: string) => {\r\n  const { user, isLoading, isAuthenticated, hasAccess } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      if (!isAuthenticated) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      if (requiredPage && !hasAccess(requiredPage)) {\r\n        // Find the first accessible page and redirect there\r\n        if (user && user.accessPages && user.accessPages.length > 0) {\r\n          const firstAccessiblePage = user.accessPages[0];\r\n          // Map page names to routes\r\n          const pageRoutes: Record<string, string> = {\r\n            'home': '/',\r\n            'sample1': '/sample1',\r\n            'sample2': '/sample2', \r\n            'users': '/users',\r\n            'settings': '/settings'\r\n          };\r\n          \r\n          const redirectRoute = pageRoutes[firstAccessiblePage] || '/';\r\n          router.push(redirectRoute);\r\n        } else {\r\n          // No access to any pages, logout\r\n          router.push('/login');\r\n        }\r\n        return;\r\n      }\r\n    }\r\n  }, [isLoading, isAuthenticated, requiredPage, hasAccess, router, user]);\r\n\r\n  return { user, isLoading, isAuthenticated, hasAccess };\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20NextJs%20Project%20Samitha/my-nextjs-app%20-%20Postgres/src/contexts/ThemeContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\n\r\nexport interface ThemeColors {\r\n  primary: string;\r\n  secondary: string;\r\n  accent: string;\r\n  background: string;\r\n  surface: string;\r\n  text: string;\r\n  textSecondary: string;\r\n  border: string;\r\n  success: string;\r\n  warning: string;\r\n  error: string;\r\n  // Additional colors for toggle button\r\n  primaryDark: string;\r\n  primaryHover: string;\r\n  primaryDarkHover: string;\r\n  primaryText: string;\r\n  primaryAlpha: string;\r\n  primaryShadow: string;\r\n  primaryShadowHover: string;\r\n  primaryBorderHover: string;\r\n}\r\n\r\nexport interface Theme {\r\n  name: string;\r\n  colors: ThemeColors;\r\n}\r\n\r\nexport interface ThemeContextType {\r\n  currentTheme: Theme;\r\n  isDarkMode: boolean;\r\n  selectedColorScheme: string;\r\n  customPrimaryColor: string | null;\r\n  toggleDarkMode: () => void;\r\n  setColorScheme: (scheme: string) => void;\r\n  setCustomPrimaryColor: (color: string) => void;\r\n  availableColorSchemes: ColorScheme[];\r\n}\r\n\r\nexport interface ColorScheme {\r\n  name: string;\r\n  primary: string;\r\n  secondary: string;\r\n  accent: string;\r\n}\r\n\r\n// Utility function to adjust color brightness\r\nconst adjustBrightness = (hexColor: string, percent: number): string => {\r\n  const num = parseInt(hexColor.replace(\"#\", \"\"), 16);\r\n  const amt = Math.round(2.55 * percent);\r\n  const R = (num >> 16) + amt;\r\n  const G = (num >> 8 & 0x00FF) + amt;\r\n  const B = (num & 0x0000FF) + amt;\r\n  return \"#\" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +\r\n    (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255))\r\n    .toString(16).slice(1);\r\n};\r\n\r\n// Available color schemes\r\nconst colorSchemes: ColorScheme[] = [\r\n  {\r\n    name: 'Blue',\r\n    primary: '#3498db',\r\n    secondary: '#2980b9',\r\n    accent: '#1abc9c'\r\n  },\r\n  {\r\n    name: 'Purple',\r\n    primary: '#9b59b6',\r\n    secondary: '#8e44ad',\r\n    accent: '#e74c3c'\r\n  },\r\n  {\r\n    name: 'Green',\r\n    primary: '#27ae60',\r\n    secondary: '#229954',\r\n    accent: '#f39c12'\r\n  },\r\n  {\r\n    name: 'Orange',\r\n    primary: '#e67e22',\r\n    secondary: '#d35400',\r\n    accent: '#e74c3c'\r\n  },\r\n  {\r\n    name: 'Red',\r\n    primary: '#e74c3c',\r\n    secondary: '#c0392b',\r\n    accent: '#f39c12'\r\n  },\r\n  {\r\n    name: 'Teal',\r\n    primary: '#1abc9c',\r\n    secondary: '#16a085',\r\n    accent: '#3498db'\r\n  }\r\n];\r\n\r\nconst generateTheme = (colorScheme: ColorScheme, isDark: boolean, customPrimary?: string): Theme => {\r\n  const primaryColor = customPrimary || colorScheme.primary;\r\n  const baseColors = {\r\n    primary: primaryColor,\r\n    secondary: customPrimary ? adjustBrightness(customPrimary, -20) : colorScheme.secondary,\r\n    accent: customPrimary ? adjustBrightness(customPrimary, 30) : colorScheme.accent,\r\n    success: '#27ae60',\r\n    warning: '#f39c12',\r\n    error: '#e74c3c',\r\n    // Additional colors for toggle button\r\n    primaryDark: adjustBrightness(primaryColor, -15),\r\n    primaryHover: adjustBrightness(primaryColor, -10),\r\n    primaryDarkHover: adjustBrightness(primaryColor, -25),\r\n    primaryText: '#ffffff',\r\n    primaryAlpha: `rgba(${parseInt(primaryColor.slice(1, 3), 16)}, ${parseInt(primaryColor.slice(3, 5), 16)}, ${parseInt(primaryColor.slice(5, 7), 16)}, 0.3)`,\r\n    primaryShadow: `rgba(${parseInt(primaryColor.slice(1, 3), 16)}, ${parseInt(primaryColor.slice(3, 5), 16)}, ${parseInt(primaryColor.slice(5, 7), 16)}, 0.2)`,\r\n    primaryShadowHover: `rgba(${parseInt(primaryColor.slice(1, 3), 16)}, ${parseInt(primaryColor.slice(3, 5), 16)}, ${parseInt(primaryColor.slice(5, 7), 16)}, 0.4)`,\r\n    primaryBorderHover: `rgba(${parseInt(primaryColor.slice(1, 3), 16)}, ${parseInt(primaryColor.slice(3, 5), 16)}, ${parseInt(primaryColor.slice(5, 7), 16)}, 0.5)`\r\n  };\r\n\r\n  if (isDark) {\r\n    return {\r\n      name: `${colorScheme.name} Dark`,\r\n      colors: {\r\n        ...baseColors,\r\n        background: '#1a1a1a',\r\n        surface: '#2c2c2c',\r\n        text: '#ffffff',\r\n        textSecondary: '#b0b0b0',\r\n        border: '#404040'\r\n      }\r\n    };\r\n  } else {\r\n    return {\r\n      name: `${colorScheme.name} Light`,\r\n      colors: {\r\n        ...baseColors,\r\n        background: '#ffffff',\r\n        surface: '#f8f9fa',\r\n        text: '#2c3e50',\r\n        textSecondary: '#6c757d',\r\n        border: '#e9ecef'\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport const useTheme = (): ThemeContextType => {\r\n  const context = useContext(ThemeContext);\r\n  if (!context) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\ninterface ThemeProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({ children }) => {\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n  const [selectedColorScheme, setSelectedColorScheme] = useState('Blue');\r\n  const [customPrimaryColor, setCustomPrimaryColor] = useState<string | null>(null);\r\n\r\n  // Load theme from localStorage on mount\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem('theme-preferences');\r\n    if (savedTheme) {\r\n      const { isDark, colorScheme, customColor } = JSON.parse(savedTheme);\r\n      setIsDarkMode(isDark);\r\n      setSelectedColorScheme(colorScheme);\r\n      setCustomPrimaryColor(customColor || null);\r\n    }\r\n  }, []);\r\n\r\n  // Save theme to localStorage whenever it changes\r\n  useEffect(() => {\r\n    localStorage.setItem('theme-preferences', JSON.stringify({\r\n      isDark: isDarkMode,\r\n      colorScheme: selectedColorScheme,\r\n      customColor: customPrimaryColor\r\n    }));\r\n    \r\n    // Apply CSS custom properties\r\n    const scheme = colorSchemes.find(cs => cs.name === selectedColorScheme) || colorSchemes[0];\r\n    const theme = generateTheme(scheme, isDarkMode, customPrimaryColor || undefined);\r\n    \r\n    const root = document.documentElement;\r\n    Object.entries(theme.colors).forEach(([key, value]) => {\r\n      root.style.setProperty(`--color-${key}`, value);\r\n    });\r\n  }, [isDarkMode, selectedColorScheme, customPrimaryColor]);\r\n\r\n  const toggleDarkMode = () => {\r\n    setIsDarkMode(!isDarkMode);\r\n  };\r\n\r\n  const setColorScheme = (scheme: string) => {\r\n    setSelectedColorScheme(scheme);\r\n    // Clear custom color when selecting a predefined scheme\r\n    setCustomPrimaryColor(null);\r\n  };\r\n\r\n  const handleSetCustomPrimaryColor = (color: string) => {\r\n    setCustomPrimaryColor(color);\r\n    // Set to \"Custom\" scheme when using custom color\r\n    setSelectedColorScheme('Custom');\r\n  };\r\n\r\n  const currentScheme = colorSchemes.find(cs => cs.name === selectedColorScheme) || colorSchemes[0];\r\n  const currentTheme = generateTheme(currentScheme, isDarkMode, customPrimaryColor || undefined);\r\n\r\n  const contextValue: ThemeContextType = {\r\n    currentTheme,\r\n    isDarkMode,\r\n    selectedColorScheme,\r\n    customPrimaryColor,\r\n    toggleDarkMode,\r\n    setColorScheme,\r\n    setCustomPrimaryColor: handleSetCustomPrimaryColor,\r\n    availableColorSchemes: colorSchemes\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={contextValue}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ThemeProvider;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20NextJs%20Project%20Samitha/my-nextjs-app%20-%20Postgres/src/components/ColorPicker.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport './ColorPicker.css';\r\n\r\ninterface ColorPickerProps {\r\n  currentColor: string;\r\n  onColorSelect: (color: string) => void;\r\n}\r\n\r\nconst ColorPicker: React.FC<ColorPickerProps> = ({ currentColor, onColorSelect }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [customColor, setCustomColor] = useState(currentColor);\r\n\r\n  // Beautiful color palette with various shades\r\n  const colorPalette = [\r\n    // Blues\r\n    '#3498db', '#2980b9', '#1abc9c', '#16a085', '#2c3e50', '#34495e',\r\n    // Purples & Pinks\r\n    '#9b59b6', '#8e44ad', '#e74c3c', '#c0392b', '#e91e63', '#ad1457',\r\n    // Greens\r\n    '#27ae60', '#229954', '#2ecc71', '#1e8449', '#00e676', '#00c853',\r\n    // Oranges & Yellows\r\n    '#e67e22', '#d35400', '#f39c12', '#e18700', '#ff9800', '#f57c00',\r\n    // Reds\r\n    '#e74c3c', '#c0392b', '#f44336', '#d32f2f', '#ff5722', '#e64a19',\r\n    // Teals & Cyans\r\n    '#1abc9c', '#16a085', '#00bcd4', '#0097a7', '#009688', '#00695c',\r\n    // Deep Colors\r\n    '#795548', '#5d4037', '#607d8b', '#455a64', '#424242', '#212121',\r\n    // Bright Colors\r\n    '#ff4081', '#e040fb', '#7c4dff', '#536dfe', '#448aff', '#40c4ff',\r\n    // Warm Colors\r\n    '#ff6f00', '#ff8f00', '#ffa000', '#ffb300', '#ffc107', '#ffca28',\r\n    // Cool Colors\r\n    '#00e5ff', '#00b0ff', '#0091ea', '#2196f3', '#1976d2', '#0d47a1'\r\n  ];\r\n\r\n  const handleColorClick = (color: string) => {\r\n    setCustomColor(color);\r\n    onColorSelect(color);\r\n  };\r\n\r\n  const handleCustomColorChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const color = e.target.value;\r\n    setCustomColor(color);\r\n    onColorSelect(color);\r\n  };\r\n\r\n  return (\r\n    <div className=\"color-picker-container\">\r\n      <div className=\"color-picker-header\">\r\n        <span className=\"color-picker-label\">Custom Color</span>\r\n        <button \r\n          className=\"color-picker-toggle\"\r\n          onClick={() => setIsOpen(!isOpen)}\r\n        >\r\n          <div \r\n            className=\"current-color-preview\"\r\n            style={{ backgroundColor: currentColor }}\r\n          ></div>\r\n          <span className={`picker-arrow ${isOpen ? 'open' : ''}`}>‚ñº</span>\r\n        </button>\r\n      </div>\r\n      \r\n      {isOpen && (\r\n        <div className=\"color-picker-panel\">\r\n          {/* Color Palette Grid */}\r\n          <div className=\"color-palette-section\">\r\n            <h4 className=\"palette-title\">Color Palette</h4>\r\n            <div className=\"color-palette-grid\">\r\n              {colorPalette.map((color, index) => (\r\n                <button\r\n                  key={index}\r\n                  className={`palette-color ${currentColor === color ? 'selected' : ''}`}\r\n                  style={{ backgroundColor: color }}\r\n                  onClick={() => handleColorClick(color)}\r\n                  title={color}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Custom Color Input */}\r\n          <div className=\"custom-color-section\">\r\n            <h4 className=\"custom-title\">Custom Color</h4>\r\n            <div className=\"custom-color-input-group\">\r\n              <input\r\n                type=\"color\"\r\n                value={customColor}\r\n                onChange={handleCustomColorChange}\r\n                className=\"custom-color-input\"\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                value={customColor}\r\n                onChange={(e) => {\r\n                  setCustomColor(e.target.value);\r\n                  if (e.target.value.match(/^#[0-9A-F]{6}$/i)) {\r\n                    onColorSelect(e.target.value);\r\n                  }\r\n                }}\r\n                className=\"custom-color-text\"\r\n                placeholder=\"#3498db\"\r\n                pattern=\"^#[0-9A-F]{6}$\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Recent Colors */}\r\n          <div className=\"recent-colors-section\">\r\n            <h4 className=\"recent-title\">Quick Colors</h4>\r\n            <div className=\"recent-colors\">\r\n              {['#3498db', '#9b59b6', '#27ae60', '#e67e22', '#e74c3c', '#1abc9c'].map((color, index) => (\r\n                <button\r\n                  key={index}\r\n                  className={`recent-color ${currentColor === color ? 'selected' : ''}`}\r\n                  style={{ backgroundColor: color }}\r\n                  onClick={() => handleColorClick(color)}\r\n                  title={color}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ColorPicker;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 809, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20NextJs%20Project%20Samitha/my-nextjs-app%20-%20Postgres/src/components/Settings.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useCallback, memo } from 'react';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\nimport ColorPicker from './ColorPicker';\r\nimport './Settings.css';\r\n\r\nconst Settings: React.FC = memo(() => {\r\n  const {\r\n    currentTheme,\r\n    isDarkMode,\r\n    selectedColorScheme,\r\n    customPrimaryColor,\r\n    toggleDarkMode,\r\n    setColorScheme,\r\n    setCustomPrimaryColor,\r\n    availableColorSchemes\r\n  } = useTheme();\r\n  \r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleSettings = useCallback(() => {\r\n    setIsOpen(!isOpen);\r\n  }, [isOpen]);\r\n\r\n  const handleColorSchemeChange = useCallback((schemeName: string) => {\r\n    setColorScheme(schemeName);\r\n  }, [setColorScheme]);\r\n\r\n  return (\r\n    <div className=\"settings-container\">\r\n      <button \r\n        className=\"settings-toggle\"\r\n        onClick={toggleSettings}\r\n        aria-label={isOpen ? 'Close settings' : 'Open settings'}\r\n      >\r\n        <span className=\"settings-icon\">‚öôÔ∏è</span>\r\n        <span className=\"settings-text\">Settings</span>\r\n        <span className={`settings-arrow ${isOpen ? 'open' : ''}`}>‚ñº</span>\r\n      </button>\r\n      \r\n      {isOpen && (\r\n        <div className=\"settings-panel\">\r\n          <div className=\"settings-section\">\r\n            <h3 className=\"settings-title\">Appearance</h3>\r\n            \r\n            {/* Dark/Light Mode Toggle */}\r\n            <div className=\"setting-item\">\r\n              <label className=\"setting-label\">\r\n                <span>Dark Mode</span>\r\n                <div className=\"toggle-container\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={isDarkMode}\r\n                    onChange={toggleDarkMode}\r\n                    className=\"toggle-input\"\r\n                  />\r\n                  <span className=\"toggle-slider\"></span>\r\n                </div>\r\n              </label>\r\n            </div>\r\n            \r\n            {/* Color Scheme Selection */}\r\n            <div className=\"setting-item\">\r\n              <span className=\"setting-label\">Preset Themes</span>\r\n              <div className=\"color-schemes\">\r\n                {availableColorSchemes.map((scheme) => (\r\n                  <button\r\n                    key={scheme.name}\r\n                    className={`color-scheme-btn ${\r\n                      selectedColorScheme === scheme.name && !customPrimaryColor ? 'active' : ''\r\n                    }`}\r\n                    onClick={() => handleColorSchemeChange(scheme.name)}\r\n                    title={scheme.name}\r\n                  >\r\n                    <div className=\"color-preview\">\r\n                      <div \r\n                        className=\"color-dot primary\"\r\n                        style={{ backgroundColor: scheme.primary }}\r\n                      ></div>\r\n                      <div \r\n                        className=\"color-dot secondary\"\r\n                        style={{ backgroundColor: scheme.secondary }}\r\n                      ></div>\r\n                      <div \r\n                        className=\"color-dot accent\"\r\n                        style={{ backgroundColor: scheme.accent }}\r\n                      ></div>\r\n                    </div>\r\n                    <span className=\"scheme-name\">{scheme.name}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Custom Color Picker */}\r\n            <div className=\"setting-item\">\r\n              <ColorPicker \r\n                currentColor={customPrimaryColor || currentTheme.colors.primary}\r\n                onColorSelect={setCustomPrimaryColor}\r\n              />\r\n            </div>\r\n            \r\n            {/* Current Theme Info */}\r\n            <div className=\"setting-item\">\r\n              <div className=\"theme-info\">\r\n                <h4>Current Theme</h4>\r\n                <p className=\"theme-name\">\r\n                  {customPrimaryColor ? 'Custom Color Theme' : currentTheme.name}\r\n                </p>\r\n                <div className=\"theme-colors\">\r\n                  <div \r\n                    className=\"theme-color-sample\"\r\n                    style={{ backgroundColor: currentTheme.colors.primary }}\r\n                    title=\"Primary Color\"\r\n                  ></div>\r\n                  <div \r\n                    className=\"theme-color-sample\"\r\n                    style={{ backgroundColor: currentTheme.colors.secondary }}\r\n                    title=\"Secondary Color\"\r\n                  ></div>\r\n                  <div \r\n                    className=\"theme-color-sample\"\r\n                    style={{ backgroundColor: currentTheme.colors.accent }}\r\n                    title=\"Accent Color\"\r\n                  ></div>\r\n                </div>\r\n                {customPrimaryColor && (\r\n                  <div className=\"custom-color-info\">\r\n                    <span className=\"custom-color-label\">Custom Primary: </span>\r\n                    <span className=\"custom-color-value\">{customPrimaryColor}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nSettings.displayName = 'Settings';\r\n\r\nexport default Settings;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;;AAOA,MAAM,yBAAqB,IAAA,6MAAI,EAAC;IAC9B,MAAM,EACJ,YAAY,EACZ,UAAU,EACV,mBAAmB,EACnB,kBAAkB,EAClB,cAAc,EACd,cAAc,EACd,qBAAqB,EACrB,qBAAqB,EACtB,GAAG,IAAA,4IAAQ;IAEZ,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,MAAM,iBAAiB,IAAA,oNAAW,EAAC;QACjC,UAAU,CAAC;IACb,GAAG;QAAC;KAAO;IAEX,MAAM,0BAA0B,IAAA,oNAAW,EAAC,CAAC;QAC3C,eAAe;IACjB,GAAG;QAAC;KAAe;IAEnB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAU;gBACV,SAAS;gBACT,cAAY,SAAS,mBAAmB;;kCAExC,8OAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,8OAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,8OAAC;wBAAK,WAAW,CAAC,eAAe,EAAE,SAAS,SAAS,IAAI;kCAAE;;;;;;;;;;;;YAG5D,wBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAiB;;;;;;sCAG/B,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAM,WAAU;;kDACf,8OAAC;kDAAK;;;;;;kDACN,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,MAAK;gDACL,SAAS;gDACT,UAAU;gDACV,WAAU;;;;;;0DAEZ,8OAAC;gDAAK,WAAU;;;;;;;;;;;;;;;;;;;;;;;sCAMtB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAgB;;;;;;8CAChC,8OAAC;oCAAI,WAAU;8CACZ,sBAAsB,GAAG,CAAC,CAAC,uBAC1B,8OAAC;4CAEC,WAAW,CAAC,iBAAiB,EAC3B,wBAAwB,OAAO,IAAI,IAAI,CAAC,qBAAqB,WAAW,IACxE;4CACF,SAAS,IAAM,wBAAwB,OAAO,IAAI;4CAClD,OAAO,OAAO,IAAI;;8DAElB,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DACC,WAAU;4DACV,OAAO;gEAAE,iBAAiB,OAAO,OAAO;4DAAC;;;;;;sEAE3C,8OAAC;4DACC,WAAU;4DACV,OAAO;gEAAE,iBAAiB,OAAO,SAAS;4DAAC;;;;;;sEAE7C,8OAAC;4DACC,WAAU;4DACV,OAAO;gEAAE,iBAAiB,OAAO,MAAM;4DAAC;;;;;;;;;;;;8DAG5C,8OAAC;oDAAK,WAAU;8DAAe,OAAO,IAAI;;;;;;;2CArBrC,OAAO,IAAI;;;;;;;;;;;;;;;;sCA4BxB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,4IAAW;gCACV,cAAc,sBAAsB,aAAa,MAAM,CAAC,OAAO;gCAC/D,eAAe;;;;;;;;;;;sCAKnB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;kDAAG;;;;;;kDACJ,8OAAC;wCAAE,WAAU;kDACV,qBAAqB,uBAAuB,aAAa,IAAI;;;;;;kDAEhE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,iBAAiB,aAAa,MAAM,CAAC,OAAO;gDAAC;gDACtD,OAAM;;;;;;0DAER,8OAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,iBAAiB,aAAa,MAAM,CAAC,SAAS;gDAAC;gDACxD,OAAM;;;;;;0DAER,8OAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,iBAAiB,aAAa,MAAM,CAAC,MAAM;gDAAC;gDACrD,OAAM;;;;;;;;;;;;oCAGT,oCACC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAqB;;;;;;0DACrC,8OAAC;gDAAK,WAAU;0DAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU1D;AAEA,SAAS,WAAW,GAAG;uCAER","debugId":null}},
    {"offset": {"line": 1155, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20NextJs%20Project%20Samitha/my-nextjs-app%20-%20Postgres/src/config/navigation.ts"],"sourcesContent":["// Centralized navigation configuration\r\n// This file contains all available pages and their metadata\r\n\r\nexport interface NavigationPage {\r\n  id: string;\r\n  name: string;\r\n  displayName: string;\r\n  icon: string;\r\n  route: string;\r\n  description?: string;\r\n}\r\n\r\nexport const NAVIGATION_PAGES: NavigationPage[] = [\r\n  {\r\n    id: 'home',\r\n    name: 'Home',\r\n    displayName: 'Home Page',\r\n    icon: 'üè†',\r\n    route: '/',\r\n    description: 'Dashboard and overview'\r\n  },\r\n  {\r\n    id: 'sample1',\r\n    name: 'Sample Page 1',\r\n    displayName: 'Sample Page 1',\r\n    icon: 'üìÑ',\r\n    route: '/sample1',\r\n    description: 'First sample page'\r\n  },\r\n  {\r\n    id: 'sample2',\r\n    name: 'Sample Page 2', \r\n    displayName: 'Sample Page 2',\r\n    icon: 'üìã',\r\n    route: '/sample2',\r\n    description: 'Second sample page'\r\n  },\r\n  {\r\n    id: 'users',\r\n    name: 'Users',\r\n    displayName: 'Users Management',\r\n    icon: 'üë•',\r\n    route: '/users',\r\n    description: 'Manage user accounts and permissions'\r\n  },\r\n  {\r\n    id: 'category',\r\n    name: 'Categories',\r\n    displayName: 'Category Management',\r\n    icon: 'üè∑Ô∏è',\r\n    route: '/category/add',\r\n    description: 'Manage product categories'\r\n  },\r\n  {\r\n    id: 'sales-rep',\r\n    name: 'Sales Reps',\r\n    displayName: 'Sales Representative Management',\r\n    icon: 'üë§',\r\n    route: '/sales-rep',\r\n    description: 'Register and manage sales representatives'\r\n  },\r\n  {\r\n    id: 'products',\r\n    name: 'Products',\r\n    displayName: 'Product Management',\r\n    icon: 'üì¶',\r\n    route: '/products/add',\r\n    description: 'Register and manage products'\r\n  },\r\n  {\r\n    id: 'suppliers',\r\n    name: 'Suppliers',\r\n    displayName: 'Supplier Management',\r\n    icon: 'üè¢',\r\n    route: '/suppliers/add',\r\n    description: 'Register and manage suppliers'\r\n  },\r\n  {\r\n    id: 'shops',\r\n    name: 'Shops',\r\n    displayName: 'Shop Management',\r\n    icon: 'üè™',\r\n    route: '/shops/add',\r\n    description: 'Register and manage shops/customers'\r\n  },\r\n  {\r\n    id: 'grn',\r\n    name: 'GRN',\r\n    displayName: 'Goods Received Note',\r\n    icon: 'üì•',\r\n    route: '/grn/add',\r\n    description: 'Record incoming goods and inventory'\r\n  },\r\n  {\r\n    id: 'discounts',\r\n    name: 'Discounts',\r\n    displayName: 'Discount Management',\r\n    icon: 'üí∞',\r\n    route: '/discounts/add',\r\n    description: 'Manage product discounts and promotional offers'\r\n  },\r\n  {\r\n    id: 'orders',\r\n    name: 'Orders',\r\n    displayName: 'Order Management',\r\n    icon: 'üìù',\r\n    route: '/orders',\r\n    description: 'Create and manage customer orders'\r\n  },\r\n  {\r\n    id: 'invoices',\r\n    name: 'Invoices',\r\n    displayName: 'Invoice Management',\r\n    icon: 'üßæ',\r\n    route: '/invoices/create',\r\n    description: 'Create and manage customer invoices'\r\n  },\r\n  {\r\n    id: 'invoices-edit',\r\n    name: 'Edit Invoices',\r\n    displayName: 'Edit Invoice Management',\r\n    icon: '‚úèÔ∏è',\r\n    route: '/invoices/edit',\r\n    description: 'Search and edit existing invoices'\r\n  },\r\n  {\r\n    id: 'payments',\r\n    name: 'Payments',\r\n    displayName: 'Payment Management',\r\n    icon: 'üí≥',\r\n    route: '/payments',\r\n    description: 'Process payments and manage credit invoices'\r\n  },\r\n  {\r\n    id: 'shop-create-by-users',\r\n    name: 'Shop Create by Users',\r\n    displayName: 'Shop Create by Users',\r\n    icon: 'üè™',\r\n    route: '/shop-create-by-users',\r\n    description: 'Shop creation and management by authorized users'\r\n  },\r\n  {\r\n    id: 'reports',\r\n    name: 'Reports',\r\n    displayName: 'Reports & Analytics',\r\n    icon: 'üìä',\r\n    route: '/reports',\r\n    description: 'View sales and inventory reports'\r\n  },\r\n  {\r\n    id: 'softwareSettings',\r\n    name: 'Software Settings',\r\n    displayName: 'Software Settings',\r\n    icon: '‚öôÔ∏è',\r\n    route: '/softwareSettings',\r\n    description: 'Configure business information and system preferences'\r\n  },\r\n  {\r\n    id: 'debug',\r\n    name: 'Debug Access',\r\n    displayName: 'Access Control Debug',\r\n    icon: 'üîç',\r\n    route: '/debug-access',\r\n    description: 'Debug access control and permissions (Admin only)'\r\n  }\r\n];\r\n\r\n// Helper function to get page by id\r\nexport const getPageById = (id: string): NavigationPage | undefined => {\r\n  return NAVIGATION_PAGES.find(page => page.id === id);\r\n};\r\n\r\n// Helper function to get available pages for user access list\r\nexport const getAvailablePages = () => {\r\n  return NAVIGATION_PAGES.map(page => ({\r\n    id: page.id,\r\n    name: page.displayName\r\n  }));\r\n};"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,4DAA4D;;;;;;;;;AAWrD,MAAM,mBAAqC;IAChD;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,OAAO;QACP,aAAa;IACf;CACD;AAGM,MAAM,cAAc,CAAC;IAC1B,OAAO,iBAAiB,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;AACnD;AAGO,MAAM,oBAAoB;IAC/B,OAAO,iBAAiB,GAAG,CAAC,CAAA,OAAQ,CAAC;YACnC,IAAI,KAAK,EAAE;YACX,MAAM,KAAK,WAAW;QACxB,CAAC;AACH","debugId":null}},
    {"offset": {"line": 1332, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20NextJs%20Project%20Samitha/my-nextjs-app%20-%20Postgres/src/components/Sidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback, useMemo, memo } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport Settings from './Settings';\r\nimport { NAVIGATION_PAGES, getPageById } from '../config/navigation';\r\nimport './Sidebar.css';\r\n\r\ninterface SidebarProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Sidebar: React.FC<SidebarProps> = memo(({ children }) => {\r\n  const [isCollapsed, setIsCollapsed] = useState(true); // Start collapsed by default\r\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [companyName, setCompanyName] = useState('Harshana System'); // Default name\r\n  const { isAuthenticated, user, hasAccess, logout, isLoading } = useAuth();\r\n  const pathname = usePathname();\r\n\r\n  // Check if we're on mobile\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n      if (window.innerWidth <= 768) {\r\n        setIsCollapsed(false); // Don't use collapsed state on mobile\r\n      }\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Load company name from settings\r\n  const loadCompanyName = useCallback(async () => {\r\n    try {\r\n      if (user) {\r\n        const response = await fetch('/api/softwareSettings', {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'x-user-data': JSON.stringify(user)\r\n          }\r\n        });\r\n        \r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          if (data.success && data.settings && data.settings.companyName) {\r\n            setCompanyName(data.settings.companyName);\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading company name:', error);\r\n      // Keep default name on error\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated && user) {\r\n      loadCompanyName();\r\n    }\r\n\r\n    // Listen for company name updates\r\n    const handleCompanyNameUpdate = () => {\r\n      loadCompanyName();\r\n    };\r\n\r\n    window.addEventListener('companyNameUpdated', handleCompanyNameUpdate);\r\n    \r\n    return () => {\r\n      window.removeEventListener('companyNameUpdated', handleCompanyNameUpdate);\r\n    };\r\n  }, [isAuthenticated, user, loadCompanyName]);\r\n\r\n  const toggleSidebar = useCallback(() => {\r\n    if (isMobile) {\r\n      setIsMobileOpen(!isMobileOpen);\r\n    } else {\r\n      setIsCollapsed(!isCollapsed);\r\n    }\r\n  }, [isMobile, isMobileOpen, isCollapsed]);\r\n\r\n  const closeMobileSidebar = useCallback(() => {\r\n    if (isMobile) {\r\n      setIsMobileOpen(false);\r\n    }\r\n  }, [isMobile]);\r\n\r\n  // Auto expand/collapse on hover (only on desktop)\r\n  const handleMouseEnter = useCallback(() => {\r\n    if (!isMobile) {\r\n      setIsCollapsed(false);\r\n    }\r\n  }, [isMobile]);\r\n\r\n  const handleMouseLeave = useCallback(() => {\r\n    if (!isMobile) {\r\n      setIsCollapsed(true);\r\n    }\r\n  }, [isMobile]);\r\n\r\n  // Don't show sidebar on login page or if not authenticated\r\n  const shouldShowSidebar = !isLoading && isAuthenticated && pathname !== '/login';\r\n\r\n  const handleLogout = useCallback(() => {\r\n    closeMobileSidebar();\r\n    logout();\r\n  }, [closeMobileSidebar, logout]);\r\n\r\n  // If loading, show content without sidebar but with a loading indicator\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"app-container\">\r\n        <div className=\"loading-wrapper\" style={{ \r\n          position: 'fixed', \r\n          top: '10px', \r\n          right: '10px', \r\n          background: 'rgba(0,0,0,0.1)', \r\n          padding: '5px 10px', \r\n          borderRadius: '4px',\r\n          fontSize: '12px',\r\n          zIndex: 1000\r\n        }}>\r\n          Loading auth...\r\n        </div>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // If not authenticated or on login page, show content without sidebar\r\n  if (!shouldShowSidebar) {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      {/* Mobile Menu Button */}\r\n      {isMobile && (\r\n        <button \r\n          className=\"mobile-menu-btn\"\r\n          onClick={toggleSidebar}\r\n          aria-label=\"Toggle menu\"\r\n        >\r\n          <span className=\"hamburger-icon\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </span>\r\n        </button>\r\n      )}\r\n      \r\n      {/* Mobile Overlay */}\r\n      {isMobile && isMobileOpen && (\r\n        <div \r\n          className=\"mobile-overlay\"\r\n          onClick={closeMobileSidebar}\r\n        />\r\n      )}\r\n      \r\n      <div \r\n        className={`sidebar ${\r\n          isMobile \r\n            ? (isMobileOpen ? 'mobile-open' : 'mobile-closed')\r\n            : (isCollapsed ? 'collapsed' : '')\r\n        }`}\r\n        onMouseEnter={handleMouseEnter}\r\n        onMouseLeave={handleMouseLeave}\r\n      >\r\n        <div className=\"sidebar-header\">\r\n          <button \r\n            className=\"toggle-btn\" \r\n            onClick={toggleSidebar}\r\n            aria-label={\r\n              isMobile \r\n                ? (isMobileOpen ? 'Close menu' : 'Open menu')\r\n                : (isCollapsed ? 'Expand sidebar' : 'Collapse sidebar')\r\n            }\r\n          >\r\n            {isMobile ? '‚úï' : (isCollapsed ? '‚Üí' : '‚Üê')}\r\n          </button>\r\n          {(!isCollapsed || isMobile) && (\r\n            <div className=\"header-content\">\r\n              <h2>{companyName}</h2>\r\n              <div className=\"header-user-info\">\r\n                <span className=\"header-user-name\">{user?.name || 'User'}</span>\r\n                <span className=\"header-username\">@{user?.username || 'user'}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <nav className=\"sidebar-nav\">\r\n          <ul>\r\n            {NAVIGATION_PAGES.map((page) => (\r\n              hasAccess(page.id) && page.id !== 'settings' && (\r\n                <li key={page.id}>\r\n                  <Link \r\n                    href={page.route} \r\n                    className={`nav-link ${pathname === page.route ? 'active' : ''}`} \r\n                    onClick={closeMobileSidebar}\r\n                    title={page.description}\r\n                  >\r\n                    <span className=\"nav-icon\">{page.icon}</span>\r\n                    {(!isCollapsed || isMobile) && <span className=\"nav-text\">{page.name}</span>}\r\n                  </Link>\r\n                </li>\r\n              )\r\n            ))}\r\n          </ul>\r\n        </nav>\r\n\r\n        {/* Logout Button */}\r\n        <div className=\"sidebar-footer\">\r\n          <button \r\n            className=\"logout-btn\"\r\n            onClick={handleLogout}\r\n            aria-label=\"Logout\"\r\n          >\r\n            <span className=\"nav-icon\">üö™</span>\r\n            {(!isCollapsed || isMobile) && <span className=\"nav-text\">Logout</span>}\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"sidebar-settings\">\r\n          {(!isCollapsed || isMobile) && <Settings />}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"main-content\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nSidebar.displayName = 'Sidebar';\r\n\r\nexport default Sidebar;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1723, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20NextJs%20Project%20Samitha/my-nextjs-app%20-%20Postgres/src/components/ErrorBoundary.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  errorInfo?: ErrorInfo;\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n  public state: State = {\r\n    hasError: false\r\n  };\r\n\r\n  public static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('üö® Error Boundary Caught:', error, errorInfo);\r\n    \r\n    this.setState({\r\n      error,\r\n      errorInfo\r\n    });\r\n\r\n    // In production, send to error reporting service\r\n    if (process.env.NODE_ENV === 'production') {\r\n      // Example: Sentry, LogRocket, etc.\r\n      // errorReportingService.captureException(error, { extra: errorInfo });\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      return (\r\n        <div className=\"error-boundary-container\" style={{\r\n          padding: '2rem',\r\n          textAlign: 'center',\r\n          backgroundColor: '#fee',\r\n          border: '1px solid #fcc',\r\n          borderRadius: '8px',\r\n          margin: '1rem'\r\n        }}>\r\n          <h2 style={{ color: '#c33', marginBottom: '1rem' }}>\r\n            üö® Something went wrong\r\n          </h2>\r\n          <p style={{ marginBottom: '1rem', color: '#666' }}>\r\n            An error occurred while rendering this component.\r\n          </p>\r\n          \r\n          {process.env.NODE_ENV === 'development' && this.state.error && (\r\n            <details style={{ textAlign: 'left', marginTop: '1rem' }}>\r\n              <summary style={{ cursor: 'pointer', fontWeight: 'bold' }}>\r\n                Error Details (Development Mode)\r\n              </summary>\r\n              <pre style={{\r\n                background: '#f5f5f5',\r\n                padding: '1rem',\r\n                borderRadius: '4px',\r\n                overflow: 'auto',\r\n                fontSize: '0.85rem'\r\n              }}>\r\n                <strong>Error:</strong> {this.state.error.message}\r\n                {this.state.error.stack && (\r\n                  <>\r\n                    <br /><strong>Stack:</strong>\r\n                    <br />{this.state.error.stack}\r\n                  </>\r\n                )}\r\n              </pre>\r\n            </details>\r\n          )}\r\n          \r\n          <button\r\n            onClick={() => this.setState({ hasError: false, error: undefined, errorInfo: undefined })}\r\n            style={{\r\n              marginTop: '1rem',\r\n              padding: '0.5rem 1rem',\r\n              backgroundColor: '#007bff',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            üîÑ Try Again\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAeA,MAAM,sBAAsB,kNAAS;IAC5B,QAAe;QACpB,UAAU;IACZ,EAAE;IAEF,OAAc,yBAAyB,KAAY,EAAS;QAC1D,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEO,kBAAkB,KAAY,EAAE,SAAoB,EAAE;QAC3D,QAAQ,KAAK,CAAC,6BAA6B,OAAO;QAElD,IAAI,CAAC,QAAQ,CAAC;YACZ;YACA;QACF;QAEA,iDAAiD;QACjD,IAAI,oDAAyB,cAAc;QACzC,mCAAmC;QACnC,uEAAuE;QACzE;IACF;IAEO,SAAS;QACd,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,qBACE,8OAAC;gBAAI,WAAU;gBAA2B,OAAO;oBAC/C,SAAS;oBACT,WAAW;oBACX,iBAAiB;oBACjB,QAAQ;oBACR,cAAc;oBACd,QAAQ;gBACV;;kCACE,8OAAC;wBAAG,OAAO;4BAAE,OAAO;4BAAQ,cAAc;wBAAO;kCAAG;;;;;;kCAGpD,8OAAC;wBAAE,OAAO;4BAAE,cAAc;4BAAQ,OAAO;wBAAO;kCAAG;;;;;;oBAIlD,oDAAyB,iBAAiB,IAAI,CAAC,KAAK,CAAC,KAAK,kBACzD,8OAAC;wBAAQ,OAAO;4BAAE,WAAW;4BAAQ,WAAW;wBAAO;;0CACrD,8OAAC;gCAAQ,OAAO;oCAAE,QAAQ;oCAAW,YAAY;gCAAO;0CAAG;;;;;;0CAG3D,8OAAC;gCAAI,OAAO;oCACV,YAAY;oCACZ,SAAS;oCACT,cAAc;oCACd,UAAU;oCACV,UAAU;gCACZ;;kDACE,8OAAC;kDAAO;;;;;;oCAAe;oCAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;oCAChD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,kBACrB;;0DACE,8OAAC;;;;;0DAAK,8OAAC;0DAAO;;;;;;0DACd,8OAAC;;;;;4CAAM,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK;;;;;;;;;;;;;;;kCAOvC,8OAAC;wBACC,SAAS,IAAM,IAAI,CAAC,QAAQ,CAAC;gCAAE,UAAU;gCAAO,OAAO;gCAAW,WAAW;4BAAU;wBACvF,OAAO;4BACL,WAAW;4BACX,SAAS;4BACT,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,cAAc;4BACd,QAAQ;wBACV;kCACD;;;;;;;;;;;;QAKP;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 1897, "column": 0}, "map": {"version":3,"sources":["file:///D:/New%20NextJs%20Project%20Samitha/my-nextjs-app%20-%20Postgres/src/components/ServiceWorkerRegistration.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\n\r\nconst ServiceWorkerRegistration = () => {\r\n  useEffect(() => {\r\n    if ('serviceWorker' in navigator && process.env.NODE_ENV === 'production') {\r\n      navigator.serviceWorker\r\n        .register('/sw.js')\r\n        .then((registration) => {\r\n          console.log('SW registered: ', registration);\r\n        })\r\n        .catch((registrationError) => {\r\n          console.log('SW registration failed: ', registrationError);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ServiceWorkerRegistration;"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIA,MAAM,4BAA4B;IAChC,IAAA,kNAAS,EAAC;QACR,IAAI,mBAAmB,aAAa,oDAAyB;;IAU/D,GAAG,EAAE;IAEL,OAAO;AACT;uCAEe","debugId":null}}]
}