module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},11642,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);let e=(0,c.createContext)(void 0),f=()=>{let a=(0,c.useContext)(e);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a};a.s(["AuthProvider",0,({children:a})=>{let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),j=(0,d.useRouter)();(0,c.useEffect)(()=>{let a=null;return f&&!f.isActive&&(a=setTimeout(()=>{g(null),localStorage.removeItem("currentUser"),localStorage.removeItem("rememberLogin"),sessionStorage.removeItem("currentUser"),localStorage.setItem("logout",Date.now().toString()),j.push("/login")},3e5)),()=>{a&&clearTimeout(a)}},[f,j]);let k=!!f;(0,c.useEffect)(()=>{let a=setTimeout(()=>{try{let a=sessionStorage.getItem("currentUser");if(a||(a=localStorage.getItem("currentUser")),a){let b=JSON.parse(a);b&&b.username&&g(b)}}catch(a){localStorage.removeItem("currentUser"),sessionStorage.removeItem("currentUser")}finally{i(!1)}},10);return()=>clearTimeout(a)},[]),(0,c.useEffect)(()=>{let a=a=>{if("logout"===a.key){g(null),localStorage.removeItem("currentUser"),localStorage.removeItem("rememberLogin"),sessionStorage.removeItem("currentUser"),m("currentUser"),"/login"!==window.location.pathname&&(window.location.href="/login");return}if("currentUser"===a.key||null===a.key)try{let a=sessionStorage.getItem("currentUser");if(a||(a=localStorage.getItem("currentUser")),a){let b=JSON.parse(a);b&&b.username&&g(b)}else g(null)}catch(a){g(null)}};window.addEventListener("storage",a);let b=()=>{try{let a=sessionStorage.getItem("currentUser");if(a||(a=localStorage.getItem("currentUser")),a){let b=JSON.parse(a);b&&b.username&&g(b)}}catch(a){}};return window.addEventListener("authChange",b),()=>{window.removeEventListener("storage",a),window.removeEventListener("authChange",b)}},[]);let l=(0,c.useCallback)((a,b,c=7)=>{let d=new Date;d.setTime(d.getTime()+24*c*36e5),document.cookie=`${a}=${b};expires=${d.toUTCString()};path=/;SameSite=Strict`},[]),m=(0,c.useCallback)(a=>{document.cookie=`${a}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`},[]),n=(0,c.useCallback)(async(a,b,c=!1)=>{try{let d=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:b})});if(!d.ok)return!1;let e=await d.json();if(e.success&&e.user){let a={...e.user,loginTime:new Date().toISOString()};return g(a),c?(localStorage.setItem("currentUser",JSON.stringify(a)),localStorage.setItem("rememberLogin","true"),l("currentUser",JSON.stringify(a),7)):(sessionStorage.setItem("currentUser",JSON.stringify(a)),l("currentUser",JSON.stringify(a),1),localStorage.removeItem("currentUser"),localStorage.removeItem("rememberLogin")),window.dispatchEvent(new CustomEvent("authChange")),!0}return!1}catch(a){return!1}},[l]),o=(0,c.useCallback)(async()=>{try{await fetch("/api/auth/logout",{method:"POST"})}catch(a){}finally{g(null),localStorage.removeItem("currentUser"),localStorage.removeItem("rememberLogin"),sessionStorage.removeItem("currentUser"),m("currentUser"),localStorage.setItem("logout",Date.now().toString()),j.push("/login")}},[j,m]),p=(0,c.useCallback)(a=>!!f&&!!f.isActive&&f.accessPages.includes(a),[f]),q=(0,c.useMemo)(()=>({user:f,isLoading:h,isAuthenticated:k,login:n,logout:o,hasAccess:p}),[f,h,k,n,o,p]);return(0,b.jsx)(e.Provider,{value:q,children:a})},"useAuth",0,f,"useRequireAuth",0,a=>{let{user:b,isLoading:e,isAuthenticated:g,hasAccess:h}=f(),i=(0,d.useRouter)();return(0,c.useEffect)(()=>{if(!e){if(!g)return void i.push("/login");if(a&&!h(a)){if(b&&b.accessPages&&b.accessPages.length>0){let a=b.accessPages[0];i.push({home:"/",sample1:"/sample1",sample2:"/sample2",users:"/users",settings:"/settings"}[a]||"/")}else i.push("/login");return}}},[e,g,a,h,i,b]),{user:b,isLoading:e,isAuthenticated:g,hasAccess:h}}])},9453,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(a,b)=>{let c=parseInt(a.replace("#",""),16),d=Math.round(2.55*b),e=(c>>16)+d,f=(c>>8&255)+d,g=(255&c)+d;return"#"+(0x1000000+(e<255?e<1?0:e:255)*65536+(f<255?f<1?0:f:255)*256+(g<255?g<1?0:g:255)).toString(16).slice(1)},e=[{name:"Blue",primary:"#3498db",secondary:"#2980b9",accent:"#1abc9c"},{name:"Purple",primary:"#9b59b6",secondary:"#8e44ad",accent:"#e74c3c"},{name:"Green",primary:"#27ae60",secondary:"#229954",accent:"#f39c12"},{name:"Orange",primary:"#e67e22",secondary:"#d35400",accent:"#e74c3c"},{name:"Red",primary:"#e74c3c",secondary:"#c0392b",accent:"#f39c12"},{name:"Teal",primary:"#1abc9c",secondary:"#16a085",accent:"#3498db"}],f=(a,b,c)=>{let e=c||a.primary,f={primary:e,secondary:c?d(c,-20):a.secondary,accent:c?d(c,30):a.accent,success:"#27ae60",warning:"#f39c12",error:"#e74c3c",primaryDark:d(e,-15),primaryHover:d(e,-10),primaryDarkHover:d(e,-25),primaryText:"#ffffff",primaryAlpha:`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.3)`,primaryShadow:`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.2)`,primaryShadowHover:`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.4)`,primaryBorderHover:`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, 0.5)`};return b?{name:`${a.name} Dark`,colors:{...f,background:"#1a1a1a",surface:"#2c2c2c",text:"#ffffff",textSecondary:"#b0b0b0",border:"#404040"}}:{name:`${a.name} Light`,colors:{...f,background:"#ffffff",surface:"#f8f9fa",text:"#2c3e50",textSecondary:"#6c757d",border:"#e9ecef"}}},g=(0,c.createContext)(void 0),h=({children:a})=>{let[d,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)("Blue"),[k,l]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=localStorage.getItem("theme-preferences");if(a){let{isDark:b,colorScheme:c,customColor:d}=JSON.parse(a);h(b),j(c),l(d||null)}},[]),(0,c.useEffect)(()=>{localStorage.setItem("theme-preferences",JSON.stringify({isDark:d,colorScheme:i,customColor:k}));let a=f(e.find(a=>a.name===i)||e[0],d,k||void 0),b=document.documentElement;Object.entries(a.colors).forEach(([a,c])=>{b.style.setProperty(`--color-${a}`,c)})},[d,i,k]);let m=f(e.find(a=>a.name===i)||e[0],d,k||void 0);return(0,b.jsx)(g.Provider,{value:{currentTheme:m,isDarkMode:d,selectedColorScheme:i,customPrimaryColor:k,toggleDarkMode:()=>{h(!d)},setColorScheme:a=>{j(a),l(null)},setCustomPrimaryColor:a=>{l(a),j("Custom")},availableColorSchemes:e},children:a})};a.s(["ThemeProvider",0,h,"default",0,h,"useTheme",0,()=>{let a=(0,c.useContext)(g);if(!a)throw Error("useTheme must be used within a ThemeProvider");return a}])},10913,a=>{"use strict";let b=[{id:"home",name:"Home",displayName:"Home Page",icon:"ðŸ ",route:"/",description:"Dashboard and overview"},{id:"sample1",name:"Sample Page 1",displayName:"Sample Page 1",icon:"ðŸ“„",route:"/sample1",description:"First sample page"},{id:"sample2",name:"Sample Page 2",displayName:"Sample Page 2",icon:"ðŸ“‹",route:"/sample2",description:"Second sample page"},{id:"users",name:"Users",displayName:"Users Management",icon:"ðŸ‘¥",route:"/users",description:"Manage user accounts and permissions"},{id:"category",name:"Categories",displayName:"Category Management",icon:"ðŸ·ï¸",route:"/category/add",description:"Manage product categories"},{id:"sales-rep",name:"Sales Reps",displayName:"Sales Representative Management",icon:"ðŸ‘¤",route:"/sales-rep",description:"Register and manage sales representatives"},{id:"products",name:"Products",displayName:"Product Management",icon:"ðŸ“¦",route:"/products/add",description:"Register and manage products"},{id:"suppliers",name:"Suppliers",displayName:"Supplier Management",icon:"ðŸ¢",route:"/suppliers/add",description:"Register and manage suppliers"},{id:"shops",name:"Shops",displayName:"Shop Management",icon:"ðŸª",route:"/shops/add",description:"Register and manage shops/customers"},{id:"grn",name:"GRN",displayName:"Goods Received Note",icon:"ðŸ“¥",route:"/grn/add",description:"Record incoming goods and inventory"},{id:"discounts",name:"Discounts",displayName:"Discount Management",icon:"ðŸ’°",route:"/discounts/add",description:"Manage product discounts and promotional offers"},{id:"orders",name:"Orders",displayName:"Order Management",icon:"ðŸ“",route:"/orders",description:"Create and manage customer orders"},{id:"invoices",name:"Invoices",displayName:"Invoice Management",icon:"ðŸ§¾",route:"/invoices/create",description:"Create and manage customer invoices"},{id:"invoices-edit",name:"Edit Invoices",displayName:"Edit Invoice Management",icon:"âœï¸",route:"/invoices/edit",description:"Search and edit existing invoices"},{id:"payments",name:"Payments",displayName:"Payment Management",icon:"ðŸ’³",route:"/payments",description:"Process payments and manage credit invoices"},{id:"shop-create-by-users",name:"Shop Create by Users",displayName:"Shop Create by Users",icon:"ðŸª",route:"/shop-create-by-users",description:"Shop creation and management by authorized users"},{id:"reports",name:"Reports",displayName:"Reports & Analytics",icon:"ðŸ“Š",route:"/reports",description:"View sales and inventory reports"},{id:"softwareSettings",name:"Software Settings",displayName:"Software Settings",icon:"âš™ï¸",route:"/softwareSettings",description:"Configure business information and system preferences"},{id:"debug",name:"Debug Access",displayName:"Access Control Debug",icon:"ðŸ”",route:"/debug-access",description:"Debug access control and permissions (Admin only)"}];a.s(["NAVIGATION_PAGES",0,b,"getAvailablePages",0,()=>b.map(a=>({id:a.id,name:a.displayName}))])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ccf3d41f._.js.map