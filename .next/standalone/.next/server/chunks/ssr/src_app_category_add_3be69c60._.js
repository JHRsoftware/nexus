module.exports=[50996,a=>{a.v({button:"add-module__bv7hGW__button",buttonGroup:"add-module__bv7hGW__buttonGroup",cancelBtn:"add-module__bv7hGW__cancelBtn",categoriesList:"add-module__bv7hGW__categoriesList",categoryActions:"add-module__bv7hGW__categoryActions",categoryInfo:"add-module__bv7hGW__categoryInfo",categoryItem:"add-module__bv7hGW__categoryItem",categoryItems:"add-module__bv7hGW__categoryItems",categoryName:"add-module__bv7hGW__categoryName",categoryUser:"add-module__bv7hGW__categoryUser",container:"add-module__bv7hGW__container",deleteBtn:"add-module__bv7hGW__deleteBtn",editBtn:"add-module__bv7hGW__editBtn",editButtons:"add-module__bv7hGW__editButtons",editInput:"add-module__bv7hGW__editInput",editMode:"add-module__bv7hGW__editMode",error:"add-module__bv7hGW__error",form:"add-module__bv7hGW__form",input:"add-module__bv7hGW__input",saveBtn:"add-module__bv7hGW__saveBtn",subtitle:"add-module__bv7hGW__subtitle",success:"add-module__bv7hGW__success",title:"add-module__bv7hGW__title",viewMode:"add-module__bv7hGW__viewMode"})},33819,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50996);a.s(["default",0,()=>{let[a,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(""),r=async b=>{if(b.preventDefault(),i(""),g(!1),!a.trim())return void i("Category name is required");try{let b=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser"),c={"Content-Type":"application/json"};b&&(c["x-user-data"]=b);let d=await fetch("/api/category",{method:"POST",headers:c,body:JSON.stringify({category:a})}),f=await d.json();d.ok&&f.success?(g(!0),e("")):i(f.error||"Failed to add category")}catch(a){i("Network error. Please try again.")}},s=async()=>{m(!0);try{let a=await fetch("/api/category"),b=await a.json();b.success?k(b.categories):i("Failed to load categories")}catch(a){i("Network error. Please try again.")}finally{m(!1)}},t=()=>{o(null),q("")},u=async a=>{if(!p.trim())return void i("Category name is required");try{let b=await fetch("/api/category",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,category:p})}),c=await b.json();b.ok&&c.success?(k(j.map(b=>b.id===a?{...b,category:p}:b)),t(),g(!0)):i(c.error||"Failed to update category")}catch(a){i("Network error. Please try again.")}},v=async(a,b)=>{if(confirm(`Are you sure you want to delete "${b}"?`))try{let b=await fetch(`/api/category?id=${a}`,{method:"DELETE"}),c=await b.json();b.ok&&c.success?(k(j.filter(b=>b.id!==a)),g(!0)):i(c.error||"Failed to delete category")}catch(a){i("Network error. Please try again.")}};return(0,b.jsxs)("div",{className:d.default.container,children:[(0,b.jsx)("h1",{className:d.default.title,children:"Category Management"}),(0,b.jsxs)("form",{className:d.default.form,onSubmit:r,children:[(0,b.jsx)("input",{type:"text",className:"themed-input",placeholder:"Enter category name",value:a,onChange:a=>e(a.target.value)}),(0,b.jsxs)("div",{className:d.default.buttonGroup,children:[(0,b.jsx)("button",{type:"submit",className:"themed-button primary-action",children:"Add Category"}),(0,b.jsx)("button",{type:"button",className:"themed-button secondary",onClick:s,disabled:l,children:l?"Loading...":"Load Categories"})]})]}),h&&(0,b.jsx)("p",{className:d.default.error,children:h}),f&&(0,b.jsx)("p",{className:d.default.success,children:"Operation completed successfully!"}),j.length>0&&(0,b.jsxs)("div",{className:d.default.categoriesList,children:[(0,b.jsxs)("h2",{className:d.default.subtitle,children:["Categories (",j.length,")"]}),(0,b.jsx)("div",{className:d.default.categoryItems,children:j.map(a=>(0,b.jsx)("div",{className:d.default.categoryItem,children:n===a.id?(0,b.jsxs)("div",{className:d.default.editMode,children:[(0,b.jsx)("input",{type:"text",className:d.default.editInput,value:p,onChange:a=>q(a.target.value)}),(0,b.jsxs)("div",{className:d.default.editButtons,children:[(0,b.jsx)("button",{className:d.default.saveBtn,onClick:()=>u(a.id),children:"âœ“ Save"}),(0,b.jsx)("button",{className:d.default.cancelBtn,onClick:t,children:"âœ• Cancel"})]})]}):(0,b.jsxs)("div",{className:d.default.viewMode,children:[(0,b.jsxs)("div",{className:d.default.categoryInfo,children:[(0,b.jsx)("span",{className:d.default.categoryName,children:a.category}),(0,b.jsxs)("span",{className:d.default.categoryUser,children:["by ",a.user]})]}),(0,b.jsxs)("div",{className:d.default.categoryActions,children:[(0,b.jsx)("button",{className:d.default.editBtn,onClick:()=>{var b,c;return b=a.id,c=a.category,void(o(b),q(c))},children:"âœï¸ Edit"}),(0,b.jsx)("button",{className:d.default.deleteBtn,onClick:()=>v(a.id,a.category),children:"ğŸ—‘ï¸ Delete"})]})]})},a.id))})]})]})}])}];

//# sourceMappingURL=src_app_category_add_3be69c60._.js.map