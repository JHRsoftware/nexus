module.exports=[63569,a=>{a.v({active:"sales-rep-module__VGKtKa__active",buttonGroup:"sales-rep-module__VGKtKa__buttonGroup",cancelBtn:"sales-rep-module__VGKtKa__cancelBtn",contactNumber:"sales-rep-module__VGKtKa__contactNumber",contactRow:"sales-rep-module__VGKtKa__contactRow",container:"sales-rep-module__VGKtKa__container",createdAt:"sales-rep-module__VGKtKa__createdAt",createdBy:"sales-rep-module__VGKtKa__createdBy",deactive:"sales-rep-module__VGKtKa__deactive",deleteBtn:"sales-rep-module__VGKtKa__deleteBtn",editBtn:"sales-rep-module__VGKtKa__editBtn",editButtons:"sales-rep-module__VGKtKa__editButtons",editFormRow:"sales-rep-module__VGKtKa__editFormRow",editInput:"sales-rep-module__VGKtKa__editInput",editMode:"sales-rep-module__VGKtKa__editMode",emptyState:"sales-rep-module__VGKtKa__emptyState",error:"sales-rep-module__VGKtKa__error",form:"sales-rep-module__VGKtKa__form",formRow:"sales-rep-module__VGKtKa__formRow",metaRow:"sales-rep-module__VGKtKa__metaRow",nameRow:"sales-rep-module__VGKtKa__nameRow","primary-action":"sales-rep-module__VGKtKa__primary-action",remark:"sales-rep-module__VGKtKa__remark",remarkRow:"sales-rep-module__VGKtKa__remarkRow",salesRepActions:"sales-rep-module__VGKtKa__salesRepActions",salesRepInfo:"sales-rep-module__VGKtKa__salesRepInfo",salesRepItem:"sales-rep-module__VGKtKa__salesRepItem",salesRepItems:"sales-rep-module__VGKtKa__salesRepItems",salesRepName:"sales-rep-module__VGKtKa__salesRepName",salesRepsList:"sales-rep-module__VGKtKa__salesRepsList",saveBtn:"sales-rep-module__VGKtKa__saveBtn",secondary:"sales-rep-module__VGKtKa__secondary",status:"sales-rep-module__VGKtKa__status",subtitle:"sales-rep-module__VGKtKa__subtitle",success:"sales-rep-module__VGKtKa__success",textarea:"sales-rep-module__VGKtKa__textarea",title:"sales-rep-module__VGKtKa__title",viewMode:"sales-rep-module__VGKtKa__viewMode"})},65040,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(63569);a.s(["default",0,()=>{let a=(0,d.useRouter)(),[f,g]=(0,c.useState)({name:"",contactNumber:"",remark:"",status:"active"}),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(f);(0,c.useEffect)(()=>{(()=>{let b=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(!b)return a.push("/login");try{JSON.parse(b)}catch(b){a.push("/login")}})()},[a]);let t=()=>{let a=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser"),b={"Content-Type":"application/json"};return a&&(b["x-user-data"]=a),b},u=(a,b)=>{g(c=>({...c,[a]:b}))},v=(a,b)=>{s(c=>({...c,[a]:b}))},w=a=>a.name.trim()?a.contactNumber.trim()?/^[\+]?[0-9\-\(\)\s]+$/.test(a.contactNumber)?"":"Please enter a valid contact number":"Contact number is required":"Sales Rep name is required",x=async a=>{a.preventDefault(),k(""),i(!1);let b=w(f);if(b)return void k(b);try{let a=await fetch("/api/sales-rep",{method:"POST",headers:t(),body:JSON.stringify(f)}),b=await a.json();a.ok&&b.success?(i(!0),g({name:"",contactNumber:"",remark:"",status:"active"}),y()):k(b.error||"Failed to add sales rep")}catch(a){k("Network error. Please try again.")}},y=async()=>{o(!0);try{let a=await fetch("/api/sales-rep",{headers:t()}),b=await a.json();b.success?m(b.salesReps):k("Failed to load sales reps")}catch(a){k("Network error. Please try again.")}finally{o(!1)}},z=()=>{q(null),s(f)},A=async a=>{let b=w(r);if(b)return void k(b);try{let b=await fetch("/api/sales-rep",{method:"PUT",headers:t(),body:JSON.stringify({id:a,...r})}),c=await b.json();b.ok&&c.success?(m(l.map(b=>b.id===a?{...b,...r}:b)),z(),i(!0),k("")):k(c.error||"Failed to update sales rep")}catch(a){k("Network error. Please try again.")}},B=async(a,b)=>{if(confirm(`Are you sure you want to delete sales rep "${b}"?`))try{let b=await fetch(`/api/sales-rep?id=${a}`,{method:"DELETE",headers:t()}),c=await b.json();b.ok&&c.success?(m(l.filter(b=>b.id!==a)),i(!0),k("")):k(c.error||"Failed to delete sales rep")}catch(a){k("Network error. Please try again.")}};return(0,b.jsxs)("div",{className:e.default.container,children:[(0,b.jsx)("h1",{className:e.default.title,children:"Sales Representative Management"}),(0,b.jsxs)("form",{className:e.default.form,onSubmit:x,children:[(0,b.jsxs)("div",{className:e.default.formRow,children:[(0,b.jsx)("input",{type:"text",className:"themed-input",placeholder:"Sales Rep Name *",value:f.name,onChange:a=>u("name",a.target.value),required:!0}),(0,b.jsx)("input",{type:"tel",className:"themed-input",placeholder:"Contact Number *",value:f.contactNumber,onChange:a=>u("contactNumber",a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:e.default.formRow,children:[(0,b.jsx)("textarea",{className:`themed-input ${e.default.textarea}`,placeholder:"Remark (Optional)",value:f.remark,onChange:a=>u("remark",a.target.value),rows:3}),(0,b.jsxs)("select",{className:"themed-input",value:f.status,onChange:a=>u("status",a.target.value),children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"deactive",children:"Deactive"})]})]}),(0,b.jsxs)("div",{className:e.default.buttonGroup,children:[(0,b.jsx)("button",{type:"submit",className:"themed-button primary-action",children:"Add Sales Rep"}),(0,b.jsx)("button",{type:"button",className:"themed-button secondary",onClick:y,disabled:n,children:n?"Loading...":"Load Sales Reps"})]})]}),j&&(0,b.jsx)("p",{className:e.default.error,children:j}),h&&(0,b.jsx)("p",{className:e.default.success,children:"Operation completed successfully!"}),l.length>0&&(0,b.jsxs)("div",{className:e.default.salesRepsList,children:[(0,b.jsxs)("h2",{className:e.default.subtitle,children:["Sales Representatives (",l.length,")"]}),(0,b.jsx)("div",{className:e.default.salesRepItems,children:l.map(a=>(0,b.jsx)("div",{className:e.default.salesRepItem,children:p===a.id?(0,b.jsxs)("div",{className:e.default.editMode,children:[(0,b.jsxs)("div",{className:e.default.editFormRow,children:[(0,b.jsx)("input",{type:"text",className:e.default.editInput,placeholder:"Sales Rep Name *",value:r.name,onChange:a=>v("name",a.target.value)}),(0,b.jsx)("input",{type:"tel",className:e.default.editInput,placeholder:"Contact Number *",value:r.contactNumber,onChange:a=>v("contactNumber",a.target.value)})]}),(0,b.jsxs)("div",{className:e.default.editFormRow,children:[(0,b.jsx)("textarea",{className:`${e.default.editInput} ${e.default.textarea}`,placeholder:"Remark",value:r.remark,onChange:a=>v("remark",a.target.value),rows:2}),(0,b.jsxs)("select",{className:e.default.editInput,value:r.status,onChange:a=>v("status",a.target.value),children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"deactive",children:"Deactive"})]})]}),(0,b.jsxs)("div",{className:e.default.editButtons,children:[(0,b.jsx)("button",{className:e.default.saveBtn,onClick:()=>A(a.id),children:"âœ“ Save"}),(0,b.jsx)("button",{className:e.default.cancelBtn,onClick:z,children:"âœ• Cancel"})]})]}):(0,b.jsxs)("div",{className:e.default.viewMode,children:[(0,b.jsxs)("div",{className:e.default.salesRepInfo,children:[(0,b.jsxs)("div",{className:e.default.nameRow,children:[(0,b.jsx)("span",{className:e.default.salesRepName,children:a.name}),(0,b.jsx)("span",{className:`${e.default.status} ${e.default[a.status]}`,children:a.status})]}),(0,b.jsx)("div",{className:e.default.contactRow,children:(0,b.jsxs)("span",{className:e.default.contactNumber,children:["ğŸ“ ",a.contactNumber]})}),a.remark&&(0,b.jsx)("div",{className:e.default.remarkRow,children:(0,b.jsxs)("span",{className:e.default.remark,children:["ğŸ’¬ ",a.remark]})}),(0,b.jsxs)("div",{className:e.default.metaRow,children:[(0,b.jsxs)("span",{className:e.default.createdBy,children:["Created by: ",a.user]}),(0,b.jsx)("span",{className:e.default.createdAt,children:new Date(a.createdAt).toLocaleDateString()})]})]}),(0,b.jsxs)("div",{className:e.default.salesRepActions,children:[(0,b.jsx)("button",{className:e.default.editBtn,onClick:()=>{q(a.id),s({name:a.name,contactNumber:a.contactNumber,remark:a.remark,status:a.status})},children:"âœï¸ Edit"}),(0,b.jsx)("button",{className:e.default.deleteBtn,onClick:()=>B(a.id,a.name),children:"ğŸ—‘ï¸ Delete"})]})]})},a.id))})]}),0===l.length&&!n&&(0,b.jsx)("div",{className:e.default.emptyState,children:(0,b.jsx)("p",{children:"No sales representatives found. Add your first sales rep above!"})})]})}])}];

//# sourceMappingURL=src_app_sales-rep_7452bc0e._.js.map