(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6214,e=>{e.v({button:"add-module__bv7hGW__button",buttonGroup:"add-module__bv7hGW__buttonGroup",cancelBtn:"add-module__bv7hGW__cancelBtn",categoriesList:"add-module__bv7hGW__categoriesList",categoryActions:"add-module__bv7hGW__categoryActions",categoryInfo:"add-module__bv7hGW__categoryInfo",categoryItem:"add-module__bv7hGW__categoryItem",categoryItems:"add-module__bv7hGW__categoryItems",categoryName:"add-module__bv7hGW__categoryName",categoryUser:"add-module__bv7hGW__categoryUser",container:"add-module__bv7hGW__container",deleteBtn:"add-module__bv7hGW__deleteBtn",editBtn:"add-module__bv7hGW__editBtn",editButtons:"add-module__bv7hGW__editButtons",editInput:"add-module__bv7hGW__editInput",editMode:"add-module__bv7hGW__editMode",error:"add-module__bv7hGW__error",form:"add-module__bv7hGW__form",input:"add-module__bv7hGW__input",saveBtn:"add-module__bv7hGW__saveBtn",subtitle:"add-module__bv7hGW__subtitle",success:"add-module__bv7hGW__success",title:"add-module__bv7hGW__title",viewMode:"add-module__bv7hGW__viewMode"})},17558,e=>{"use strict";var t=e.i(43476),a=e.i(71645),d=e.i(6214);e.s(["default",0,()=>{let[e,s]=(0,a.useState)(""),[o,r]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),[i,n]=(0,a.useState)([]),[u,_]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),[y,g]=(0,a.useState)(""),v=async t=>{if(t.preventDefault(),c(""),r(!1),!e.trim())return void c("Category name is required");try{let t=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser"),a={"Content-Type":"application/json"};t&&(a["x-user-data"]=t);let d=await fetch("/api/category",{method:"POST",headers:a,body:JSON.stringify({category:e})}),o=await d.json();d.ok&&o.success?(r(!0),s("")):c(o.error||"Failed to add category")}catch(e){c("Network error. Please try again.")}},b=async()=>{_(!0);try{let e=await fetch("/api/category"),t=await e.json();t.success?n(t.categories):c("Failed to load categories")}catch(e){c("Network error. Please try again.")}finally{_(!1)}},f=()=>{h(null),g("")},p=async e=>{if(!y.trim())return void c("Category name is required");try{let t=await fetch("/api/category",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,category:y})}),a=await t.json();t.ok&&a.success?(n(i.map(t=>t.id===e?{...t,category:y}:t)),f(),r(!0)):c(a.error||"Failed to update category")}catch(e){c("Network error. Please try again.")}},N=async(e,t)=>{if(confirm(`Are you sure you want to delete "${t}"?`))try{let t=await fetch(`/api/category?id=${e}`,{method:"DELETE"}),a=await t.json();t.ok&&a.success?(n(i.filter(t=>t.id!==e)),r(!0)):c(a.error||"Failed to delete category")}catch(e){c("Network error. Please try again.")}};return(0,t.jsxs)("div",{className:d.default.container,children:[(0,t.jsx)("h1",{className:d.default.title,children:"Category Management"}),(0,t.jsxs)("form",{className:d.default.form,onSubmit:v,children:[(0,t.jsx)("input",{type:"text",className:"themed-input",placeholder:"Enter category name",value:e,onChange:e=>s(e.target.value)}),(0,t.jsxs)("div",{className:d.default.buttonGroup,children:[(0,t.jsx)("button",{type:"submit",className:"themed-button primary-action",children:"Add Category"}),(0,t.jsx)("button",{type:"button",className:"themed-button secondary",onClick:b,disabled:u,children:u?"Loading...":"Load Categories"})]})]}),l&&(0,t.jsx)("p",{className:d.default.error,children:l}),o&&(0,t.jsx)("p",{className:d.default.success,children:"Operation completed successfully!"}),i.length>0&&(0,t.jsxs)("div",{className:d.default.categoriesList,children:[(0,t.jsxs)("h2",{className:d.default.subtitle,children:["Categories (",i.length,")"]}),(0,t.jsx)("div",{className:d.default.categoryItems,children:i.map(e=>(0,t.jsx)("div",{className:d.default.categoryItem,children:m===e.id?(0,t.jsxs)("div",{className:d.default.editMode,children:[(0,t.jsx)("input",{type:"text",className:d.default.editInput,value:y,onChange:e=>g(e.target.value)}),(0,t.jsxs)("div",{className:d.default.editButtons,children:[(0,t.jsx)("button",{className:d.default.saveBtn,onClick:()=>p(e.id),children:"âœ“ Save"}),(0,t.jsx)("button",{className:d.default.cancelBtn,onClick:f,children:"âœ• Cancel"})]})]}):(0,t.jsxs)("div",{className:d.default.viewMode,children:[(0,t.jsxs)("div",{className:d.default.categoryInfo,children:[(0,t.jsx)("span",{className:d.default.categoryName,children:e.category}),(0,t.jsxs)("span",{className:d.default.categoryUser,children:["by ",e.user]})]}),(0,t.jsxs)("div",{className:d.default.categoryActions,children:[(0,t.jsx)("button",{className:d.default.editBtn,onClick:()=>{var t,a;return t=e.id,a=e.category,void(h(t),g(a))},children:"âœï¸ Edit"}),(0,t.jsx)("button",{className:d.default.deleteBtn,onClick:()=>N(e.id,e.category),children:"ğŸ—‘ï¸ Delete"})]})]})},e.id))})]})]})}])}]);