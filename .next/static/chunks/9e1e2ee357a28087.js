(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,s)=>{},98547,(e,t,s)=>{var r=e.i(47167);e.r(16015);var a=e.r(71645),i=a&&"object"==typeof a&&"default"in a?a:{default:a},n=void 0!==r.default&&r.default.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,a=t.optimizeForSpeed,i=void 0===a?n:a;u(l(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",u("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){u("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(n||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(u(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return n||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];u(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];u(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&u(l(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return s?a.insertBefore(r,s):a.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function u(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},c={};function h(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return c[r]||(c[r]="jsx-"+d(e+"-"+s)),c[r]}function m(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return c[s]||(c[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[s]}var p=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,a=t.optimizeForSpeed,i=void 0!==a&&a;this._sheet=r||new o({name:"styled-jsx",optimizeForSpeed:i}),this._sheet.inject(),r&&"boolean"==typeof i&&(this._sheet.setOptimizeForSpeed(i),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,a=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var i=a.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=i,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return i.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var a=h(r,s);return{styleId:a,rules:Array.isArray(t)?t.map(function(e){return m(a,e)}):[m(a,t)]}}return{styleId:h(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),_=a.createContext(null);function f(){return new p}function b(){return a.useContext(_)}_.displayName="StyleSheetContext";var v=i.default.useInsertionEffect||i.default.useLayoutEffect,y="undefined"!=typeof window?f():void 0;function j(e){var t=y||b();return t&&("undefined"==typeof window?t.add(e):v(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}j.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,r=a.useContext(_),n=a.useState(function(){return r||t||f()})[0];return i.default.createElement(_.Provider,{value:n},s)},s.createStyleRegistry=f,s.style=j,s.useStyleRegistry=b},37902,(e,t,s)=>{t.exports=e.r(98547).style},11870,e=>{"use strict";e.i(43476),e.i(37902);var t=e.i(71645),s=e.i(57951),r=e.i(18566);function a(e,i="/login"){let{user:n,isLoading:l,isAuthenticated:o,hasAccess:u}=(0,s.useAuth)(),d=(0,r.useRouter)(),[c,h]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{if(!l){if(!o)return void d.replace(i);if(!u(e)){if(n&&n.accessPages&&n.accessPages.length>0){let e=n.accessPages[0];d.replace({home:"/",sample1:"/sample1",sample2:"/sample2",users:"/users",products:"/products/add",suppliers:"/suppliers/add",shops:"/shops/add",grn:"/grn/add",discounts:"/discounts/add",settings:"/settings",reports:"/reports",debug:"/debug-access"}[e]||"/")}else d.replace("/login");return}h(!0)}},[l,o,u,e,n,d,i]),{isAuthorized:c&&o,isLoading:l,user:n,hasAccess:u}}e.s(["usePageProtection",()=>a])},89088,e=>{"use strict";e.s(["handleNumberInputWheel",0,e=>{e.target.blur(),e.preventDefault()}])},86573,e=>{e.v({accessDenied:"shop-create-by-users-module__ZrE4jG__accessDenied",actions:"shop-create-by-users-module__ZrE4jG__actions",activate:"shop-create-by-users-module__ZrE4jG__activate",active:"shop-create-by-users-module__ZrE4jG__active",balanceAmount:"shop-create-by-users-module__ZrE4jG__balanceAmount",clearButton:"shop-create-by-users-module__ZrE4jG__clearButton",contact:"shop-create-by-users-module__ZrE4jG__contact",container:"shop-create-by-users-module__ZrE4jG__container",creditLimit:"shop-create-by-users-module__ZrE4jG__creditLimit",deactivate:"shop-create-by-users-module__ZrE4jG__deactivate",deleteButton:"shop-create-by-users-module__ZrE4jG__deleteButton",editButton:"shop-create-by-users-module__ZrE4jG__editButton",ellipsis:"shop-create-by-users-module__ZrE4jG__ellipsis",error:"shop-create-by-users-module__ZrE4jG__error",field:"shop-create-by-users-module__ZrE4jG__field",form:"shop-create-by-users-module__ZrE4jG__form",header:"shop-create-by-users-module__ZrE4jG__header",inactive:"shop-create-by-users-module__ZrE4jG__inactive",input:"shop-create-by-users-module__ZrE4jG__input",label:"shop-create-by-users-module__ZrE4jG__label",loadButton:"shop-create-by-users-module__ZrE4jG__loadButton",loading:"shop-create-by-users-module__ZrE4jG__loading",noShops:"shop-create-by-users-module__ZrE4jG__noShops",noShopsIcon:"shop-create-by-users-module__ZrE4jG__noShopsIcon",ownerName:"shop-create-by-users-module__ZrE4jG__ownerName",pageBtn:"shop-create-by-users-module__ZrE4jG__pageBtn",pageNumbers:"shop-create-by-users-module__ZrE4jG__pageNumbers",pagination:"shop-create-by-users-module__ZrE4jG__pagination",paginationInfo:"shop-create-by-users-module__ZrE4jG__paginationInfo",row:"shop-create-by-users-module__ZrE4jG__row",searchButton:"shop-create-by-users-module__ZrE4jG__searchButton",searchForm:"shop-create-by-users-module__ZrE4jG__searchForm",searchInput:"shop-create-by-users-module__ZrE4jG__searchInput",searchSection:"shop-create-by-users-module__ZrE4jG__searchSection",shopName:"shop-create-by-users-module__ZrE4jG__shopName",shopsContent:"shop-create-by-users-module__ZrE4jG__shopsContent",shopsHeader:"shop-create-by-users-module__ZrE4jG__shopsHeader",shopsList:"shop-create-by-users-module__ZrE4jG__shopsList",shopsTable:"shop-create-by-users-module__ZrE4jG__shopsTable",slideIn:"shop-create-by-users-module__ZrE4jG__slideIn",status:"shop-create-by-users-module__ZrE4jG__status",submitButton:"shop-create-by-users-module__ZrE4jG__submitButton",submitSection:"shop-create-by-users-module__ZrE4jG__submitSection",subtitle:"shop-create-by-users-module__ZrE4jG__subtitle",success:"shop-create-by-users-module__ZrE4jG__success",tableBody:"shop-create-by-users-module__ZrE4jG__tableBody",tableHeader:"shop-create-by-users-module__ZrE4jG__tableHeader",tableRow:"shop-create-by-users-module__ZrE4jG__tableRow",textarea:"shop-create-by-users-module__ZrE4jG__textarea",title:"shop-create-by-users-module__ZrE4jG__title",toggleButton:"shop-create-by-users-module__ZrE4jG__toggleButton",user:"shop-create-by-users-module__ZrE4jG__user"})},52336,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(11870),a=e.i(75144),i=e.i(57951),n=e.i(89088),l=e.i(86573);e.s(["default",0,()=>{let{isAuthorized:e,isLoading:o}=(0,r.usePageProtection)("shop-create-by-users"),{isDarkMode:u}=(0,a.useTheme)(),{user:d}=(0,i.useAuth)(),[c,h]=(0,s.useState)({shopName:"",ownerName:"",address:"",contactNumber:"",email:"",businessRegisterNo:"",image:"",creditLimit:"",balanceAmount:"0",isActive:!1}),[m,p]=(0,s.useState)(!1),[_,f]=(0,s.useState)(""),[b,v]=(0,s.useState)(""),[y,j]=(0,s.useState)(!1),[g,N]=(0,s.useState)(null),[S,x]=(0,s.useState)(5e4),[E,w]=(0,s.useState)([]),[C,R]=(0,s.useState)(!1),[A,G]=(0,s.useState)(""),[Z,F]=(0,s.useState)(1),[L,B]=(0,s.useState)({currentPage:1,totalPages:1,totalCount:0,hasNext:!1,hasPrev:!1}),P=()=>({"Content-Type":"application/json","x-user-data":JSON.stringify(d||{})});(0,s.useEffect)(()=>{if(!e||!d)return;let t=!0;return(async()=>{try{let e=await fetch("/api/softwareSettings",{headers:{"Content-Type":"application/json","x-user-data":JSON.stringify(d||{})}}),s=await e.json();if(t&&s.success&&s.settings){let e=s.settings.defaultCreditLimit||5e4;x(e),h(t=>({...t,creditLimit:""===t.creditLimit?e.toString():t.creditLimit}))}}catch(e){t&&(x(5e4),h(e=>({...e,creditLimit:""===e.creditLimit?"50000":e.creditLimit})))}})(),()=>{t=!1}},[e,d]);let T=(0,s.useCallback)(async(e=1,t="",s=!1)=>{p(!0),v("");try{let r=new URLSearchParams({page:e.toString(),limit:"5",search:t.trim()}),a=await fetch(`/api/shops?${r}`,{headers:P()}),i=await a.json();i.success?(w(i.shops),B(i.pagination),F(e),R(!0),0===i.shops.length&&t&&v(`No shops found matching "${t}"`)):(v(i.error||"Failed to load shops"),s&&(w([]),R(!1)))}catch(e){v("An error occurred while loading shops"),s&&(w([]),R(!1))}finally{p(!1)}},[]);(0,s.useEffect)(()=>{if(C){let e=setTimeout(()=>{T(1,A.trim(),!0)},300);return()=>clearTimeout(e)}},[A,T,C]);let z=async e=>{if(e.preventDefault(),!c.shopName||!c.ownerName||!c.address||!c.contactNumber)return void v("Please fill in all required fields");if(c.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email.trim()))return void v("Please enter a valid email address");let t=parseFloat(c.creditLimit);if(isNaN(t)||t<0)return void v("Credit limit must be a valid positive number");if(isNaN(parseFloat(c.balanceAmount)))return void v("Balance amount must be a valid number");p(!0),v(""),f("");try{let e=y?"PUT":"POST",t={...y&&{id:g},shopName:c.shopName.trim(),ownerName:c.ownerName.trim(),address:c.address.trim(),contactNumber:c.contactNumber.trim(),email:c.email.trim()||null,businessRegisterNo:c.businessRegisterNo.trim()||null,image:c.image.trim()||null,creditLimit:parseFloat(c.creditLimit),balanceAmount:parseFloat(c.balanceAmount),isActive:c.isActive},s=await fetch("/api/shops",{method:e,headers:P(),body:JSON.stringify(t)}),r=await s.json();r.success?(f(r.message),h({shopName:"",ownerName:"",address:"",contactNumber:"",email:"",businessRegisterNo:"",image:"",creditLimit:S.toString(),balanceAmount:"0",isActive:!1}),y&&(j(!1),N(null)),C&&T(Z,A),setTimeout(()=>f(""),3e3)):v(r.error||"Operation failed")}catch(e){v("An error occurred while processing your request")}finally{p(!1)}},I=()=>{G(""),T(1,"",!0)},O=e=>{e>=1&&e<=L.totalPages&&!m&&T(e,A,!1)};return o?(0,t.jsx)("div",{className:l.default.loading,children:"Checking permissions..."}):e?(0,t.jsxs)("div",{className:`${l.default.container} ${u?"dark":"light"}`,children:[(0,t.jsxs)("div",{className:l.default.header,children:[(0,t.jsx)("h1",{className:l.default.title,children:y?"Edit Shop":"Shop Create by Users"}),y&&(0,t.jsx)("button",{type:"button",onClick:()=>{h({shopName:"",ownerName:"",address:"",contactNumber:"",email:"",businessRegisterNo:"",image:"",creditLimit:S.toString(),balanceAmount:"0",isActive:!1}),j(!1),N(null),v(""),f("")},className:l.default.clearButton,children:"Cancel Edit"})]}),(0,t.jsxs)("form",{onSubmit:z,className:l.default.form,children:[(0,t.jsxs)("div",{className:l.default.row,children:[(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Shop Name: *"}),(0,t.jsx)("input",{type:"text",value:c.shopName,onChange:e=>h(t=>({...t,shopName:e.target.value})),className:l.default.input,placeholder:"Enter shop name",disabled:m,required:!0})]}),(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Owner Name: *"}),(0,t.jsx)("input",{type:"text",value:c.ownerName,onChange:e=>h(t=>({...t,ownerName:e.target.value})),className:l.default.input,placeholder:"Enter owner name",disabled:m,required:!0})]})]}),(0,t.jsx)("div",{className:l.default.row,children:(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Address: *"}),(0,t.jsx)("textarea",{value:c.address,onChange:e=>h(t=>({...t,address:e.target.value})),className:`${l.default.input} ${l.default.textarea}`,placeholder:"Enter complete address",disabled:m,rows:3,required:!0})]})}),(0,t.jsxs)("div",{className:l.default.row,children:[(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Contact Number: *"}),(0,t.jsx)("input",{type:"tel",value:c.contactNumber,onChange:e=>h(t=>({...t,contactNumber:e.target.value})),className:l.default.input,placeholder:"Enter contact number",disabled:m,required:!0})]}),(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Email:"}),(0,t.jsx)("input",{type:"email",value:c.email,onChange:e=>h(t=>({...t,email:e.target.value})),className:l.default.input,placeholder:"Enter email address",disabled:m})]})]}),(0,t.jsxs)("div",{className:l.default.row,children:[(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Business Register No:"}),(0,t.jsx)("input",{type:"text",value:c.businessRegisterNo,onChange:e=>h(t=>({...t,businessRegisterNo:e.target.value})),className:l.default.input,placeholder:"Enter business register number",disabled:m})]}),(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Credit Limit:"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:c.creditLimit,onChange:e=>h(t=>({...t,creditLimit:e.target.value})),onWheel:n.handleNumberInputWheel,className:l.default.input,placeholder:"Enter credit limit",disabled:m,readOnly:!0})]}),(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Balance Amount:"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:c.balanceAmount,onChange:e=>h(t=>({...t,balanceAmount:e.target.value})),onWheel:n.handleNumberInputWheel,className:l.default.input,placeholder:"Enter balance amount",disabled:m,readOnly:!0})]})]}),(0,t.jsxs)("div",{className:l.default.row,children:[(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Image URL:"}),(0,t.jsx)("input",{type:"url",value:c.image,onChange:e=>h(t=>({...t,image:e.target.value})),className:l.default.input,placeholder:"Enter image URL",disabled:m})]}),(0,t.jsxs)("div",{className:l.default.field,children:[(0,t.jsx)("label",{className:l.default.label,children:"Status:"}),(0,t.jsxs)("select",{value:c.isActive?"active":"inactive",onChange:e=>h(t=>({...t,isActive:"active"===e.target.value})),className:l.default.input,disabled:!0,children:[(0,t.jsx)("option",{value:"inactive",children:"Inactive (Default)"}),(0,t.jsx)("option",{value:"active",children:"Active"})]})]})]}),b&&(0,t.jsx)("div",{className:l.default.error,children:b}),_&&(0,t.jsx)("div",{className:l.default.success,children:_}),(0,t.jsx)("div",{className:l.default.submitSection,children:(0,t.jsx)("button",{type:"submit",className:l.default.submitButton,disabled:m,children:m?"Processing...":y?"Update Shop":"Create Shop"})})]}),(0,t.jsxs)("div",{className:l.default.shopsList,children:[(0,t.jsxs)("div",{className:l.default.shopsHeader,children:[(0,t.jsx)("h2",{className:l.default.subtitle,children:"User Created Shops"}),(0,t.jsxs)("div",{className:l.default.searchSection,children:[(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault()},className:l.default.searchForm,children:[(0,t.jsx)("input",{type:"text",value:A,onChange:e=>G(e.target.value),placeholder:"Search by shop name, owner, contact...",className:l.default.searchInput}),(0,t.jsx)("button",{type:"submit",className:l.default.searchButton,disabled:m,children:"Search"})]}),(0,t.jsx)("button",{onClick:I,className:l.default.loadButton,disabled:m,children:m?"Loading...":"Load All"})]})]}),(0,t.jsxs)("div",{className:l.default.shopsContent,children:[C?0===E.length?(0,t.jsxs)("div",{className:l.default.noShops,children:[(0,t.jsx)("div",{className:l.default.noShopsIcon,children:"ðŸ”"}),(0,t.jsx)("h3",{children:"No User Created Shops Found"}),(0,t.jsx)("p",{children:A?`No shops match "${A}". Try a different search term.`:"No shops have been created by users yet. Create your first shop using the form above."}),A&&(0,t.jsx)("button",{onClick:I,className:l.default.loadButton,style:{marginTop:"1rem"},children:"View All Shops"})]}):(0,t.jsxs)("div",{className:l.default.shopsTable,children:[(0,t.jsxs)("div",{className:l.default.tableHeader,children:[(0,t.jsx)("div",{children:"Shop Name"}),(0,t.jsx)("div",{children:"Owner"}),(0,t.jsx)("div",{children:"Contact"}),(0,t.jsx)("div",{children:"Credit Limit"}),(0,t.jsx)("div",{children:"Balance Amount"}),(0,t.jsx)("div",{children:"Status"}),(0,t.jsx)("div",{children:"Created By"})]}),(0,t.jsx)("div",{className:l.default.tableBody,children:E.map(e=>(0,t.jsxs)("div",{className:l.default.tableRow,children:[(0,t.jsx)("div",{className:l.default.shopName,children:e.shopName}),(0,t.jsx)("div",{className:l.default.ownerName,children:e.ownerName}),(0,t.jsx)("div",{className:l.default.contact,children:e.contactNumber}),(0,t.jsxs)("div",{className:l.default.creditLimit,children:["LKR ",Number(e.creditLimit).toLocaleString()]}),(0,t.jsxs)("div",{className:l.default.balanceAmount,children:["LKR ",Number(e.balanceAmount).toLocaleString()]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:`${l.default.status} ${e.isActive?l.default.active:l.default.inactive}`,children:e.isActive?"Active":"Inactive"})}),(0,t.jsx)("div",{className:l.default.user,children:e.user})]},e.id))})]}):(0,t.jsxs)("div",{className:l.default.noShops,children:[(0,t.jsx)("div",{className:l.default.noShopsIcon,children:"ðŸª"}),(0,t.jsx)("h3",{children:"User Created Shop Directory"}),(0,t.jsxs)("p",{children:["Click ",(0,t.jsx)("strong",{children:'"Load All"'})," to view all shops created by users"]}),(0,t.jsx)("p",{children:"Or use the search box to find specific shops"})]}),E.length>0&&(0,t.jsxs)("div",{className:l.default.pagination,children:[(0,t.jsx)("div",{className:l.default.paginationInfo,children:(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Total Shops:"})," ",L.totalCount||E.length," |",(0,t.jsx)("strong",{children:" Current Page:"})," ",Z," of ",L.totalPages||1," |",(0,t.jsx)("strong",{children:" Per Page:"})," 5",A&&(0,t.jsxs)("span",{children:[' | Filtered by: "',A,'"']})]})}),L.totalPages>1&&(0,t.jsxs)("div",{className:l.default.pageNumbers,children:[(0,t.jsx)("button",{onClick:()=>O(Z-1),disabled:!L.hasPrev||m,className:l.default.pageBtn,children:"â† Previous"}),(()=>{let e=[],s=L.totalPages;if(s<=7)for(let t=1;t<=s;t++)e.push(t);else{e.push(1),Z>3&&e.push("...");let t=Math.max(2,Z-1),r=Math.min(s-1,Z+1);for(let s=t;s<=r;s++)e.includes(s)||e.push(s);Z<s-2&&e.push("..."),e.includes(s)||e.push(s)}return e.map((e,s)=>"..."===e?(0,t.jsx)("span",{className:l.default.ellipsis,children:"..."},`ellipsis-${s}`):(0,t.jsx)("button",{onClick:()=>O(e),className:`${l.default.pageBtn} ${e===Z?l.default.active:""}`,disabled:m,children:e},e))})(),(0,t.jsx)("button",{onClick:()=>O(Z+1),disabled:!L.hasNext||m,className:l.default.pageBtn,children:"Next â†’"})]})]})]})]})]}):(0,t.jsx)("div",{className:l.default.accessDenied,children:"Access denied to shop creation by users"})}])}]);