{"version":3,"sources":["turbopack:///[project]/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRequireAuth } from '../contexts/AuthContext';\nimport Link from 'next/link';\n\nexport default function Home() {\n  const { user, isLoading, hasAccess } = useRequireAuth('home');\n  const [companyName, setCompanyName] = useState('Harshana System'); // Default name\n\n  // Load company name from settings\n  const loadCompanyName = useCallback(async () => {\n    try {\n      if (user) {\n        const response = await fetch('/api/softwareSettings', {\n          headers: {\n            'Content-Type': 'application/json',\n            'x-user-data': JSON.stringify(user)\n          }\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          if (data.success && data.settings && data.settings.companyName) {\n            setCompanyName(data.settings.companyName);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error loading company name:', error);\n      // Keep default name on error\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user) {\n      loadCompanyName();\n    }\n\n    // Listen for company name updates\n    const handleCompanyNameUpdate = () => {\n      loadCompanyName();\n    };\n\n    window.addEventListener('companyNameUpdated', handleCompanyNameUpdate);\n    \n    return () => {\n      window.removeEventListener('companyNameUpdated', handleCompanyNameUpdate);\n    };\n  }, [user, loadCompanyName]);\n\n  if (isLoading) {\n    return (\n      <div className=\"page-container\">\n        <div className=\"loading-message\" style={{ \n          display: 'flex', \n          justifyContent: 'center', \n          alignItems: 'center', \n          height: '200px',\n          fontSize: '18px',\n          color: 'var(--text-secondary)'\n        }}>\n          <span>‚è≥ Loading your dashboard...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"page-container\">\n      {/* Welcome Header */}\n      <div className=\"welcome-header\">\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '1rem', flexWrap: 'wrap' }}>\n          <div className=\"welcome-icon\">\n            üè†\n          </div>\n          <div style={{ flex: 1, minWidth: '200px' }}>\n            <h1 style={{ margin: 0, fontSize: 'clamp(1.8rem, 4vw, 2.5rem)', fontWeight: '700' }}>\n              {companyName} Dashboard\n            </h1>\n            <p style={{ \n              margin: '0.5rem 0 0 0', \n              fontSize: 'clamp(1rem, 2.5vw, 1.2rem)', \n              opacity: 0.9,\n              fontWeight: '300'\n            }}>\n              {user ? `‡∑É‡∑è‡∂Ø‡∂ª‡∂∫‡∑ô‡∂±‡∑ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂ú‡∂±‡∑í‡∂∏‡∑î, ${user.name}! üéâ` : 'Welcome to your dashboard'}\n            </p>\n          </div>\n        </div>\n        \n        {user && (\n          <div className=\"welcome-user-info\">\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '1rem' }}>\n              <div>\n                <small style={{ opacity: 0.8 }}>Account</small>\n                <div style={{ fontWeight: '600' }}>@{user.username}</div>\n              </div>\n              <div>\n                <small style={{ opacity: 0.8 }}>Status</small>\n                <div style={{ fontWeight: '600' }}>\n                  <span style={{ color: user.isActive ? '#28a745' : '#dc3545' }}>\n                    {user.isActive ? '‚úÖ Active' : '‚ùå Inactive'}\n                  </span>\n                </div>\n              </div>\n              <div>\n                <small style={{ opacity: 0.8 }}>Access Level</small>\n                <div style={{ fontWeight: '600' }}>{user.accessPages.length} Pages Available</div>\n              </div>\n              <div>\n                <small style={{ opacity: 0.8 }}>Login Time</small>\n                <div style={{ fontWeight: '600' }}>\n                  {user.loginTime ? new Date(user.loginTime).toLocaleTimeString() : 'Now'}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      \n      <div className=\"page-content\">\n       \n\n        {/* System Features */}\n        <div className=\"content-section\" style={{ marginBottom: '2rem' }}>\n          <h2 style={{ marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n            ‚≠ê System Features\n          </h2>\n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', \n            gap: '1.5rem' \n          }}>\n            <div className=\"card\" style={{ textAlign: 'center', padding: '2rem 1rem' }}>\n              <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üîê</div>\n              <h3 style={{ color: 'var(--primary-color)' }}>Secure Authentication</h3>\n              <p>Advanced login system with session management and access control</p>\n            </div>\n            \n            <div className=\"card\" style={{ textAlign: 'center', padding: '2rem 1rem' }}>\n              <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üì±</div>\n              <h3 style={{ color: 'var(--primary-color)' }}>Mobile Responsive</h3>\n              <p>Optimized for all devices with touch-friendly interface design</p>\n            </div>\n            \n            <div className=\"card\" style={{ textAlign: 'center', padding: '2rem 1rem' }}>\n              <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üé®</div>\n              <h3 style={{ color: 'var(--primary-color)' }}>Theme System</h3>\n              <p>Customizable themes with dark/light mode support</p>\n            </div>\n            \n            <div className=\"card\" style={{ textAlign: 'center', padding: '2rem 1rem' }}>\n              <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>‚ö°</div>\n              <h3 style={{ color: 'var(--primary-color)' }}>High Performance</h3>\n              <p>Built with Next.js 14+ and modern web technologies</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Recent Activity */}\n        <div className=\"content-section\">\n          <h2 style={{ marginBottom: '1.5rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n            üìä System Status\n          </h2>\n          <div className=\"info-grid\" style={{ \n            display: 'grid', \n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n            gap: '1rem' \n          }}>\n            <div className=\"status-card\" style={{ \n              background: 'linear-gradient(135deg, #28a745, #20c997)'\n            }}>\n              <h4 style={{ margin: '0 0 0.5rem 0' }}>System Status</h4>\n              <div style={{ fontSize: '2rem', margin: '0.5rem 0' }}>‚úÖ</div>\n              <p style={{ margin: 0, opacity: 0.9 }}>All systems operational</p>\n            </div>\n            \n            <div className=\"status-card\" style={{ \n              background: 'linear-gradient(135deg, #007bff, #6610f2)'\n            }}>\n              <h4 style={{ margin: '0 0 0.5rem 0' }}>Database</h4>\n              <div style={{ fontSize: '2rem', margin: '0.5rem 0' }}>üóÑÔ∏è</div>\n              <p style={{ margin: 0, opacity: 0.9 }}>Connected & synchronized</p>\n            </div>\n            \n            <div className=\"status-card\" style={{ \n              background: 'linear-gradient(135deg, #fd7e14, #e83e8c)'\n            }}>\n              <h4 style={{ margin: '0 0 0.5rem 0' }}>Performance</h4>\n              <div style={{ fontSize: '2rem', margin: '0.5rem 0' }}>‚ö°</div>\n              <p style={{ margin: 0, opacity: 0.9 }}>Optimal speed</p>\n            </div>\n            \n            <div className=\"status-card\" style={{ \n              background: 'linear-gradient(135deg, #6f42c1, #e83e8c)'\n            }}>\n              <h4 style={{ margin: '0 0 0.5rem 0' }}>Security</h4>\n              <div style={{ fontSize: '2rem', margin: '0.5rem 0' }}>üõ°Ô∏è</div>\n              <p style={{ margin: 0, opacity: 0.9 }}>Fully protected</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}