module.exports=[90489,a=>{a.v({active:"users-module__MIXvaW__active",cancel:"users-module__MIXvaW__cancel",cardAccessPages:"users-module__MIXvaW__cardAccessPages",cardAction:"users-module__MIXvaW__cardAction",cardActions:"users-module__MIXvaW__cardActions",cardBody:"users-module__MIXvaW__cardBody",cardDate:"users-module__MIXvaW__cardDate",cardError:"users-module__MIXvaW__cardError",cardField:"users-module__MIXvaW__cardField",cardHeader:"users-module__MIXvaW__cardHeader",cardLabel:"users-module__MIXvaW__cardLabel",cardLoading:"users-module__MIXvaW__cardLoading",cardStatus:"users-module__MIXvaW__cardStatus",cardUserInfo:"users-module__MIXvaW__cardUserInfo",cardUserName:"users-module__MIXvaW__cardUserName",cardUsername:"users-module__MIXvaW__cardUsername",cardValue:"users-module__MIXvaW__cardValue",editing:"users-module__MIXvaW__editing",error:"users-module__MIXvaW__error","form-error":"users-module__MIXvaW__form-error","form-fieldset":"users-module__MIXvaW__form-fieldset","form-help":"users-module__MIXvaW__form-help","form-label":"users-module__MIXvaW__form-label","form-legend":"users-module__MIXvaW__form-legend","loading-spinner":"users-module__MIXvaW__loading-spinner",mobileCard:"users-module__MIXvaW__mobileCard",mobileEditAction:"users-module__MIXvaW__mobileEditAction",mobileEditActions:"users-module__MIXvaW__mobileEditActions",mobileEditCheckbox:"users-module__MIXvaW__mobileEditCheckbox",mobileEditCheckboxGrid:"users-module__MIXvaW__mobileEditCheckboxGrid",mobileEditCheckboxText:"users-module__MIXvaW__mobileEditCheckboxText",mobileEditField:"users-module__MIXvaW__mobileEditField",mobileEditForm:"users-module__MIXvaW__mobileEditForm",mobileEditGrid:"users-module__MIXvaW__mobileEditGrid",mobileEditInput:"users-module__MIXvaW__mobileEditInput",mobileEditLabel:"users-module__MIXvaW__mobileEditLabel",mobileEmptyDescription:"users-module__MIXvaW__mobileEmptyDescription",mobileEmptyIcon:"users-module__MIXvaW__mobileEmptyIcon",mobileEmptyState:"users-module__MIXvaW__mobileEmptyState",mobileEmptyTitle:"users-module__MIXvaW__mobileEmptyTitle",mobileErrorMessage:"users-module__MIXvaW__mobileErrorMessage",mobileTableToggle:"users-module__MIXvaW__mobileTableToggle",multiSelectDropdown:"users-module__MIXvaW__multiSelectDropdown",multiSelectInput:"users-module__MIXvaW__multiSelectInput",multiSelectOption:"users-module__MIXvaW__multiSelectOption",multiSelectOptions:"users-module__MIXvaW__multiSelectOptions",multiSelectRemove:"users-module__MIXvaW__multiSelectRemove",multiSelectTag:"users-module__MIXvaW__multiSelectTag",multiSelectTags:"users-module__MIXvaW__multiSelectTags",primary:"users-module__MIXvaW__primary","primary-action":"users-module__MIXvaW__primary-action","required-asterisk":"users-module__MIXvaW__required-asterisk",save:"users-module__MIXvaW__save",secondary:"users-module__MIXvaW__secondary",spin:"users-module__MIXvaW__spin","sr-only":"users-module__MIXvaW__sr-only",success:"users-module__MIXvaW__success","themed-button":"users-module__MIXvaW__themed-button",toggleButton:"users-module__MIXvaW__toggleButton",usersContainer:"users-module__MIXvaW__usersContainer",warning:"users-module__MIXvaW__warning"})},15197,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(90489);let e=(0,c.memo)(({type:a="spinner",size:c="medium",color:d="primary",text:e="",overlay:f=!1,fullScreen:g=!1})=>(0,b.jsx)("div",{className:`loading-container ${f?"loading-overlay":""} ${g?"loading-fullscreen":""}`,children:(0,b.jsxs)("div",{className:"loading-content",children:[(()=>{switch(a){case"spinner":default:return(0,b.jsx)("div",{className:`loading-spinner loading-${c} loading-${d}`,children:(0,b.jsx)("div",{className:"spinner-circle"})});case"dots":return(0,b.jsxs)("div",{className:`loading-dots loading-${c} loading-${d}`,children:[(0,b.jsx)("div",{className:"dot dot-1"}),(0,b.jsx)("div",{className:"dot dot-2"}),(0,b.jsx)("div",{className:"dot dot-3"})]});case"pulse":return(0,b.jsxs)("div",{className:`loading-pulse loading-${c} loading-${d}`,children:[(0,b.jsx)("div",{className:"pulse-circle pulse-1"}),(0,b.jsx)("div",{className:"pulse-circle pulse-2"}),(0,b.jsx)("div",{className:"pulse-circle pulse-3"})]});case"bars":return(0,b.jsxs)("div",{className:`loading-bars loading-${c} loading-${d}`,children:[(0,b.jsx)("div",{className:"bar bar-1"}),(0,b.jsx)("div",{className:"bar bar-2"}),(0,b.jsx)("div",{className:"bar bar-3"}),(0,b.jsx)("div",{className:"bar bar-4"}),(0,b.jsx)("div",{className:"bar bar-5"})]});case"wave":return(0,b.jsxs)("div",{className:`loading-wave loading-${c} loading-${d}`,children:[(0,b.jsx)("div",{className:"wave-bar wave-1"}),(0,b.jsx)("div",{className:"wave-bar wave-2"}),(0,b.jsx)("div",{className:"wave-bar wave-3"}),(0,b.jsx)("div",{className:"wave-bar wave-4"}),(0,b.jsx)("div",{className:"wave-bar wave-5"})]});case"skeleton":return(0,b.jsxs)("div",{className:`loading-skeleton loading-${c}`,children:[(0,b.jsx)("div",{className:"skeleton-line skeleton-title"}),(0,b.jsx)("div",{className:"skeleton-line skeleton-text"}),(0,b.jsx)("div",{className:"skeleton-line skeleton-text short"})]})}})(),e&&(0,b.jsx)("div",{className:"loading-text",children:e})]})}));e.displayName="LoadingAnimation";let f=(0,c.memo)(({loading:a=!1,loadingText:c="Loading...",children:d,variant:f="primary",size:g="medium",fullWidth:h=!1,className:i="",disabled:j,...k})=>{let l=["loading-button",`btn-${f}`,`btn-${g}`,h?"btn-full-width":"",a?"btn-loading":"",i].filter(Boolean).join(" ");return(0,b.jsx)("button",{className:l,disabled:j||a,...k,children:a?(0,b.jsxs)("div",{className:"btn-loading-content",children:[(0,b.jsx)(e,{type:"spinner",size:"small",color:"primary"===f?"primary":"secondary"}),(0,b.jsx)("span",{className:"btn-loading-text",children:c})]}):d})});f.displayName="LoadingButton";let g=(0,c.memo)(({loading:a,children:c,loadingText:d="Loading...",type:f="pulse",overlay:g=!1,minHeight:h="200px"})=>a?(0,b.jsx)("div",{className:"page-loader",style:{minHeight:g?"100vh":h},children:(0,b.jsx)(e,{type:f,size:"large",color:"primary",text:d,overlay:g,fullScreen:g})}):(0,b.jsx)(b.Fragment,{children:c}));g.displayName="PageLoader";var h=a.i(11642),i=a.i(10913);a.s(["default",0,()=>{let{user:a,isLoading:e}=(0,h.useRequireAuth)("users"),{startLoading:j,stopLoading:k,isLoading:l}=((a={})=>{let[b,d]=(0,c.useState)(a),e=(0,c.useCallback)((a,b)=>{d(c=>({...c,[a]:b}))},[]),f=(0,c.useCallback)(a=>{e(a,!0)},[e]),g=(0,c.useCallback)(a=>{e(a,!1)},[e]),h=(0,c.useCallback)(a=>b[a]||!1,[b]),i=(0,c.useCallback)(()=>Object.values(b).some(a=>a),[b]);return{loadingStates:b,setLoading:e,startLoading:f,stopLoading:g,isLoading:h,isAnyLoading:i,resetLoading:(0,c.useCallback)(()=>{d({})},[])}})(),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)({}),[w,x]=(0,c.useState)({}),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(0),[C,D]=(0,c.useState)({name:"",username:"",password:"",confirmPassword:"",accessPages:[]}),E=(0,c.useMemo)(()=>(0,i.getAvailablePages)(),[]);if(e)return(0,b.jsx)("div",{className:"page-container",children:(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{children:"Loading..."}),(0,b.jsx)("p",{className:"page-subtitle",children:"Please wait while we verify your access"})]})});let F=(0,c.useCallback)(async()=>{try{p(!0);let a=await fetch("/api/users",{cache:"no-store"});if(a.ok){let b=await a.json();n(b.map(a=>({...a,isEditing:!1})))}else throw Error("Failed to fetch users")}catch(a){v({fetch:"Failed to load users. Please refresh the page."})}finally{p(!1)}},[]);(0,c.useEffect)(()=>{F()},[F]),(0,c.useEffect)(()=>{let a=()=>{let a=window.innerWidth;B(a),z(a<640)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),(0,c.useEffect)(()=>{if(u.action||u.fetch){let a=setTimeout(()=>{v(a=>({...a,action:"",fetch:""}))},5e3);return()=>clearTimeout(a)}},[u.action,u.fetch]);let G=(0,c.useCallback)(()=>{let a={};return C.name.trim()?C.name.length<2&&(a.name="Name must be at least 2 characters"):a.name="Name is required",C.username.trim()?C.username.length<3?a.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(C.username)?m.some(a=>a.username.toLowerCase()===C.username.toLowerCase())&&(a.username="Username already exists"):a.username="Username can only contain letters, numbers, and underscores":a.username="Username is required",C.password?C.password.length<6&&(a.password="Password must be at least 6 characters"):a.password="Password is required",C.password!==C.confirmPassword&&(a.confirmPassword="Passwords do not match"),0===C.accessPages.length&&(a.accessPages="Please select at least one access page"),v(a),0===Object.keys(a).length},[C,m]),H=(0,c.useCallback)(a=>{let b=w[a];return!(!b||!b.name.trim()||b.name.length<2||!b.username.trim()||b.username.length<3||!/^[a-zA-Z0-9_]+$/.test(b.username)||m.some(c=>c.id!==a&&c.username.toLowerCase()===b.username.toLowerCase()))&&!!b.password&&!(b.password.length<6)&&0!==b.accessPages.length},[w,m]),I=(0,c.useCallback)(a=>{let b=w[a];if(!b)return!1;let c={};return b.name.trim()?b.name.length<2&&(c[`edit_name_${a}`]="Name must be at least 2 characters"):c[`edit_name_${a}`]="Name is required",b.username.trim()?b.username.length<3?c[`edit_username_${a}`]="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(b.username)?m.some(c=>c.id!==a&&c.username.toLowerCase()===b.username.toLowerCase())&&(c[`edit_username_${a}`]="Username already exists"):c[`edit_username_${a}`]="Username can only contain letters, numbers, and underscores":c[`edit_username_${a}`]="Username is required",b.password?b.password.length<6&&(c[`edit_password_${a}`]="Password must be at least 6 characters"):c[`edit_password_${a}`]="Password is required",0===b.accessPages.length&&(c[`edit_access_${a}`]="Please select at least one access page"),v(a=>({...a,...c})),0===Object.keys(c).length},[w,m]),J=(0,c.useCallback)(()=>{D({name:"",username:"",password:"",confirmPassword:"",accessPages:[]}),v({}),t(!1)},[]),K=(0,c.useCallback)(async a=>{if(a.preventDefault(),G()){r(-1),j("addUser");try{let a=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C.name.trim(),username:C.username.trim(),password:C.password,accessPages:C.accessPages})});if(a.ok)await F(),J();else{let b=await a.json();v({submit:b.error||"Failed to create user"})}}catch(a){v({submit:"Network error. Please try again."})}finally{r(null),k("addUser")}}},[C,G,F,J]),L=(0,c.useCallback)(a=>{x(b=>({...b,[a.id]:{name:a.name,username:a.username,password:"",accessPages:[...a.accessPages]}})),n(b=>b.map(b=>({...b,isEditing:b.id===a.id}))),v({})},[]),M=(0,c.useCallback)(a=>{n(b=>b.map(b=>b.id===a?{...b,isEditing:!1}:b)),x(b=>{let c={...b};return delete c[a],c}),v(b=>{let c={...b};return Object.keys(c).forEach(b=>{b.includes(`_${a}`)&&delete c[b]}),c})},[]),N=(0,c.useCallback)(async a=>{if(!I(a))return;let b=w[a];r(a),j(`editUser_${a}`);try{let c=await fetch(`/api/users/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.name.trim(),username:b.username.trim(),password:b.password,accessPages:b.accessPages,isActive:m.find(b=>b.id===a)?.isActive||!0})});if(c.ok)await F(),M(a);else{let b=await c.json();v(c=>({...c,[`edit_submit_${a}`]:b.error||"Failed to update user"}))}}catch(b){v(b=>({...b,[`edit_submit_${a}`]:"Network error. Please try again."}))}finally{r(null),k(`editUser_${a}`)}},[w,I,m,F,M]),O=(0,c.useCallback)(a=>{let b=m.find(b=>b.id===a);b&&(b.isEditing?M(a):L(b))},[m,M,L]),P=(0,c.useCallback)(async a=>{let b=m.find(b=>b.id===a);if(b&&q!==a){r(a),j(`toggleStatus_${a}`),n(b=>b.map(b=>b.id===a?{...b,isActive:!b.isActive}:b));try{if(!(await fetch(`/api/users/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,isActive:!b.isActive})})).ok)throw n(c=>c.map(c=>c.id===a?{...c,isActive:b.isActive}:c)),Error("Failed to update user status")}catch(a){v({action:"Failed to update user status"})}finally{r(null),k(`toggleStatus_${a}`)}}},[m,q]),Q=(0,c.useCallback)(async(a,b)=>{if(confirm(`Are you sure you want to delete user "${b}"? This action cannot be undone.`)){r(a),j(`deleteUser_${a}`);try{if((await fetch(`/api/users/${a}`,{method:"DELETE"})).ok)n(b=>b.filter(b=>b.id!==a));else throw Error("Failed to delete user")}catch(a){v({action:"Failed to delete user"}),await F()}finally{r(null),k(`deleteUser_${a}`)}}},[q,F]),R=(0,c.useCallback)((a,b)=>{D(c=>({...c,accessPages:b?[...c.accessPages,a]:c.accessPages.filter(b=>b!==a)}))},[]);(0,c.useCallback)((a,b,c)=>{x(d=>({...d,[a]:{...d[a],accessPages:c?[...d[a].accessPages,b]:d[a].accessPages.filter(a=>a!==b)}}))},[]);let S=(0,c.memo)(({user:a})=>(0,b.jsxs)("div",{className:`${d.default.mobileCard} ${a.isEditing?d.default.editing:""} ${q===a.id?d.default.cardLoading:""}`,children:[(0,b.jsxs)("div",{className:d.default.cardHeader,children:[(0,b.jsxs)("div",{className:d.default.cardUserInfo,children:[(0,b.jsx)("div",{className:d.default.cardUserName,children:a.name}),(0,b.jsxs)("div",{className:d.default.cardUsername,children:["@",a.username]})]}),(0,b.jsx)("div",{className:d.default.cardStatus,children:(0,b.jsx)("span",{className:`status-badge ${a.isActive?"active":"inactive"}`,children:a.isActive?"Active":"Inactive"})})]}),a.isEditing?(0,b.jsxs)("div",{className:d.default.mobileEditForm,children:[(0,b.jsxs)("div",{className:d.default.mobileEditGrid,children:[(0,b.jsxs)("div",{className:d.default.mobileEditField,children:[(0,b.jsx)("label",{className:d.default.mobileEditLabel,children:"Name *"}),(0,b.jsx)("input",{type:"text",className:d.default.mobileEditInput,value:w[a.id]?.name||"",onChange:b=>x(c=>({...c,[a.id]:{...c[a.id],name:b.target.value}})),placeholder:"Enter name",disabled:q===a.id}),u[`edit_name_${a.id}`]&&(0,b.jsx)("span",{className:"error-text",children:u[`edit_name_${a.id}`]})]}),(0,b.jsxs)("div",{className:d.default.mobileEditField,children:[(0,b.jsx)("label",{className:d.default.mobileEditLabel,children:"Username *"}),(0,b.jsx)("input",{type:"text",className:d.default.mobileEditInput,value:w[a.id]?.username||"",onChange:b=>x(c=>({...c,[a.id]:{...c[a.id],username:b.target.value}})),placeholder:"Enter username",disabled:q===a.id}),u[`edit_username_${a.id}`]&&(0,b.jsx)("span",{className:"error-text",children:u[`edit_username_${a.id}`]})]}),(0,b.jsxs)("div",{className:d.default.mobileEditField,children:[(0,b.jsx)("label",{className:d.default.mobileEditLabel,children:"New Password *"}),(0,b.jsx)("input",{type:"password",className:d.default.mobileEditInput,value:w[a.id]?.password||"",onChange:b=>x(c=>({...c,[a.id]:{...c[a.id],password:b.target.value}})),placeholder:"New password",disabled:q===a.id}),u[`edit_password_${a.id}`]&&(0,b.jsx)("span",{className:"error-text",children:u[`edit_password_${a.id}`]})]}),(0,b.jsxs)("div",{className:d.default.mobileEditField,children:[(0,b.jsx)("label",{className:d.default.mobileEditLabel,children:"Access Pages *"}),(0,b.jsxs)("div",{className:d.default.multiSelectDropdown,children:[(0,b.jsx)("input",{type:"text",className:d.default.multiSelectInput,placeholder:"Search pages...",value:w[a.id]?.accessSearch||"",onChange:b=>x(c=>({...c,[a.id]:{...c[a.id],accessSearch:b.target.value}})),disabled:q===a.id}),(0,b.jsx)("div",{className:d.default.multiSelectOptions,children:E.filter(b=>{let c=w[a.id]?.accessSearch||"";return!w[a.id]?.accessPages?.includes(b.id)&&(""===c||b.name.toLowerCase().includes(c.toLowerCase())||b.id.toLowerCase().includes(c.toLowerCase()))}).map(c=>(0,b.jsx)("div",{className:d.default.multiSelectOption,onClick:()=>x(b=>({...b,[a.id]:{...b[a.id],accessPages:[...b[a.id]?.accessPages||[],c.id],accessSearch:""}})),children:c.name},c.id))}),(0,b.jsx)("div",{className:d.default.multiSelectTags,children:(w[a.id]?.accessPages||[]).map(c=>(0,b.jsxs)("span",{className:d.default.multiSelectTag,children:[E.find(a=>a.id===c)?.name||c,(0,b.jsx)("button",{type:"button",className:d.default.multiSelectRemove,onClick:()=>x(b=>({...b,[a.id]:{...b[a.id],accessPages:b[a.id].accessPages.filter(a=>a!==c)}})),disabled:q===a.id,children:"‚úï"})]},c))})]}),u[`edit_access_${a.id}`]&&(0,b.jsx)("span",{className:"error-text",children:u[`edit_access_${a.id}`]})]})]}),(0,b.jsxs)("div",{className:d.default.mobileEditActions,children:[(0,b.jsx)(f,{className:`${d.default.mobileEditAction} ${d.default.save}`,onClick:()=>N(a.id),disabled:q===a.id||!H(a.id),loading:l(`editUser_${a.id}`),loadingText:"Saving...",children:"‚úì Save Changes"}),(0,b.jsx)("button",{className:`${d.default.mobileEditAction} ${d.default.cancel}`,onClick:()=>M(a.id),disabled:q===a.id,children:"‚úï Cancel"})]}),u[`edit_submit_${a.id}`]&&(0,b.jsx)("div",{className:d.default.mobileErrorMessage,children:u[`edit_submit_${a.id}`]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:d.default.cardBody,children:[(0,b.jsxs)("div",{className:d.default.cardField,children:[(0,b.jsx)("div",{className:d.default.cardLabel,children:"Password"}),(0,b.jsx)("div",{className:d.default.cardValue,children:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"})]}),(0,b.jsxs)("div",{className:d.default.cardField,children:[(0,b.jsx)("div",{className:d.default.cardLabel,children:"Access Pages"}),(0,b.jsx)("div",{className:`${d.default.cardValue} ${d.default.cardAccessPages}`,children:a.accessPages.map(a=>(0,b.jsx)("span",{className:"access-tag",children:E.find(b=>b.id===a)?.name||a},a))})]}),(0,b.jsxs)("div",{className:d.default.cardField,children:[(0,b.jsx)("div",{className:d.default.cardLabel,children:"Created"}),(0,b.jsx)("div",{className:`${d.default.cardValue} ${d.default.cardDate}`,children:new Date(a.createdAt).toLocaleDateString()})]})]}),(0,b.jsxs)("div",{className:d.default.cardActions,children:[(0,b.jsx)(f,{className:`${d.default.cardAction} ${a.isActive?d.default.warning:d.default.success}`,onClick:()=>P(a.id),title:a.isActive?"Deactivate User":"Activate User",disabled:q===a.id,loading:l(`toggleStatus_${a.id}`),loadingText:a.isActive?"Deactivating...":"Activating...",children:a.isActive?"‚è∏Ô∏è Deactivate":"‚ñ∂Ô∏è Activate"}),(0,b.jsx)("button",{className:`${d.default.cardAction} ${d.default.primary}`,onClick:()=>O(a.id),title:"Edit User",disabled:null!==q,children:"‚úèÔ∏è Edit"}),(0,b.jsx)(f,{className:`${d.default.cardAction} ${d.default.error}`,onClick:()=>Q(a.id,a.name),title:"Delete User",disabled:q===a.id,loading:l(`deleteUser_${a.id}`),loadingText:"Deleting...",children:"üóëÔ∏è Delete"})]})]})]}));return S.displayName="UserCard",(0,b.jsx)(g,{loading:o,loadingText:"Loading users...",children:(0,b.jsxs)("div",{className:`page-container ${d.default.usersContainer}`,children:[(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{children:"Users Management"}),(0,b.jsx)("p",{className:"page-subtitle",children:"Manage user accounts and permissions"})]}),(0,b.jsxs)("div",{className:"page-content",children:[(u.fetch||u.action)&&(0,b.jsxs)("div",{className:"error-banner",children:[u.fetch||u.action,(0,b.jsx)("button",{className:"error-close",onClick:()=>v({}),title:"Close error",children:"‚úï"})]}),(0,b.jsxs)("div",{className:"users-actions",children:[(0,b.jsx)("button",{className:"themed-button",onClick:()=>t(!s),disabled:null!==q,children:s?"‚úï Cancel":"+ Add New User"}),(0,b.jsx)(f,{className:"themed-button secondary",onClick:F,disabled:o||null!==q,title:"Refresh users list",loading:o,loadingText:"Loading...",children:"‚Üª Refresh"})]}),A>0&&A<768&&(0,b.jsxs)("div",{className:d.default.mobileTableToggle,children:[(0,b.jsx)("button",{className:`${d.default.toggleButton} ${!y?d.default.active:""}`,onClick:()=>z(!1),children:"üìä Table View"}),(0,b.jsx)("button",{className:`${d.default.toggleButton} ${y?d.default.active:""}`,onClick:()=>z(!0),children:"üì± Card View"})]}),s&&(0,b.jsxs)("div",{className:"add-user-form",children:[(0,b.jsx)("h3",{children:"Add New User"}),(0,b.jsxs)("form",{onSubmit:K,children:[(0,b.jsxs)("div",{className:"form-grid",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"name",className:"form-label",children:["Full Name ",(0,b.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,b.jsx)("input",{id:"name",type:"text",className:"themed-input",value:C.name,onChange:a=>D({...C,name:a.target.value}),placeholder:"Enter full name",disabled:-1===q,autoComplete:"name","aria-describedby":u.name?"name-error":void 0,"aria-invalid":u.name?"true":"false"}),u.name&&(0,b.jsx)("span",{id:"name-error",className:"error-text",role:"alert",children:u.name})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"username",className:"form-label",children:["Username ",(0,b.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,b.jsx)("input",{id:"username",type:"text",className:"themed-input",value:C.username,onChange:a=>D({...C,username:a.target.value}),placeholder:"Enter username",disabled:-1===q,autoComplete:"username","aria-describedby":u.username?"username-error":void 0,"aria-invalid":u.username?"true":"false"}),u.username&&(0,b.jsx)("span",{id:"username-error",className:"error-text",role:"alert",children:u.username})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"password",className:"form-label",children:["Password ",(0,b.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,b.jsx)("input",{id:"password",type:"password",className:"themed-input",value:C.password,onChange:a=>D({...C,password:a.target.value}),placeholder:"Enter secure password",disabled:-1===q,autoComplete:"new-password","aria-describedby":u.password?"password-error":"password-help","aria-invalid":u.password?"true":"false"}),(0,b.jsx)("small",{id:"password-help",className:"form-help",children:"Minimum 6 characters required"}),u.password&&(0,b.jsx)("span",{id:"password-error",className:"error-text",role:"alert",children:u.password})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{htmlFor:"confirmPassword",className:"form-label",children:["Confirm Password ",(0,b.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,b.jsx)("input",{id:"confirmPassword",type:"password",className:"themed-input",value:C.confirmPassword,onChange:a=>D({...C,confirmPassword:a.target.value}),placeholder:"Confirm your password",disabled:-1===q,autoComplete:"new-password","aria-describedby":u.confirmPassword?"confirm-password-error":void 0,"aria-invalid":u.confirmPassword?"true":"false"}),u.confirmPassword&&(0,b.jsx)("span",{id:"confirm-password-error",className:"error-text",role:"alert",children:u.confirmPassword})]})]}),(0,b.jsx)("div",{className:"form-group",children:(0,b.jsxs)("fieldset",{className:"form-fieldset",children:[(0,b.jsxs)("legend",{className:"form-legend",children:["Access Permissions ",(0,b.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,b.jsx)("div",{className:"access-pages-grid",role:"group","aria-labelledby":"access-pages-label",children:E.map(a=>(0,b.jsxs)("label",{className:"checkbox-label",children:[(0,b.jsx)("input",{type:"checkbox",checked:C.accessPages.includes(a.id),onChange:b=>R(a.id,b.target.checked),disabled:-1===q,"aria-describedby":`access-${a.id}-desc`}),(0,b.jsx)("span",{className:"checkbox-text",children:a.name}),(0,b.jsxs)("span",{id:`access-${a.id}-desc`,className:"sr-only",children:["Grant access to ",a.name]})]},a.id))}),u.accessPages&&(0,b.jsx)("span",{className:"error-text",role:"alert",children:u.accessPages})]})}),u.submit&&(0,b.jsx)("div",{className:"error-text form-error",role:"alert",children:u.submit}),(0,b.jsxs)("div",{className:"form-actions",children:[(0,b.jsx)(f,{type:"submit",className:"themed-button primary-action",disabled:-1===q,loading:l("addUser"),loadingText:"Creating User...","aria-describedby":"create-user-help",children:"‚úì Create User"}),(0,b.jsxs)("button",{type:"button",className:"themed-button secondary",onClick:J,disabled:-1===q,children:[(0,b.jsx)("span",{"aria-hidden":"true",children:"‚úï"}),(0,b.jsx)("span",{children:"Cancel"})]})]}),(0,b.jsx)("small",{id:"create-user-help",className:"form-help",children:"All required fields must be completed to create a user account"})]})]}),(0,b.jsxs)("div",{className:"users-list",children:[(0,b.jsxs)("h3",{children:["Current Users (",m.length,")"]}),o?(0,b.jsx)("div",{className:"loading-message",children:(0,b.jsx)("span",{children:"Loading users..."})}):0===m.length?(0,b.jsxs)("div",{className:d.default.mobileEmptyState,children:[(0,b.jsx)("div",{className:d.default.mobileEmptyIcon,children:"üë•"}),(0,b.jsx)("div",{className:d.default.mobileEmptyTitle,children:"No Users Found"}),(0,b.jsx)("div",{className:d.default.mobileEmptyDescription,children:"Get started by adding your first user account."})]}):(0,b.jsx)(b.Fragment,{children:(A<640||y)&&A>0?(0,b.jsx)("div",{className:"mobile-cards-container",children:m.map(a=>(0,b.jsx)(S,{user:a},a.id))}):(0,b.jsx)("div",{className:`users-table-container ${A>1200?"":"scrollable"}`,children:(0,b.jsxs)("table",{className:"users-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Name"}),(0,b.jsx)("th",{children:"Username"}),(0,b.jsx)("th",{children:"Password"}),(0,b.jsx)("th",{children:"Access Pages"}),(0,b.jsx)("th",{children:"Status"}),(0,b.jsx)("th",{children:"Created"}),(0,b.jsx)("th",{children:"Actions"})]})}),(0,b.jsx)("tbody",{children:m.map(a=>(0,b.jsxs)("tr",{className:a.isEditing?"editing":"",children:[(0,b.jsx)("td",{children:a.isEditing?(0,b.jsxs)("div",{className:"edit-field",children:[(0,b.jsx)("input",{type:"text",className:"edit-input",value:w[a.id]?.name||"",onChange:b=>x(c=>({...c,[a.id]:{...c[a.id],name:b.target.value}})),placeholder:"Enter name",disabled:q===a.id}),u[`edit_name_${a.id}`]&&(0,b.jsx)("span",{className:"error-text",children:u[`edit_name_${a.id}`]})]}):(0,b.jsx)("div",{className:"user-info",children:(0,b.jsx)("span",{className:"user-name",children:a.name})})}),(0,b.jsx)("td",{children:a.isEditing?(0,b.jsxs)("div",{className:"edit-field",children:[(0,b.jsx)("input",{type:"text",className:"edit-input",value:w[a.id]?.username||"",onChange:b=>x(c=>({...c,[a.id]:{...c[a.id],username:b.target.value}})),placeholder:"Enter username",disabled:q===a.id}),u[`edit_username_${a.id}`]&&(0,b.jsx)("span",{className:"error-text",children:u[`edit_username_${a.id}`]})]}):(0,b.jsxs)("span",{className:"username",children:["@",a.username]})}),(0,b.jsx)("td",{children:a.isEditing?(0,b.jsxs)("div",{className:"edit-field",children:[(0,b.jsx)("input",{type:"password",className:"edit-input",value:w[a.id]?.password||"",onChange:b=>x(c=>({...c,[a.id]:{...c[a.id],password:b.target.value}})),placeholder:"New password",disabled:q===a.id}),u[`edit_password_${a.id}`]&&(0,b.jsx)("span",{className:"error-text",children:u[`edit_password_${a.id}`]})]}):(0,b.jsx)("span",{className:"password-hidden",children:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"})}),(0,b.jsx)("td",{children:a.isEditing?(0,b.jsxs)("div",{className:"edit-field",children:[(0,b.jsxs)("div",{className:d.default.multiSelectDropdown,children:[(0,b.jsx)("input",{type:"text",className:d.default.multiSelectInput,placeholder:"Search pages...",value:w[a.id]?.accessSearch||"",onChange:b=>x(c=>({...c,[a.id]:{...c[a.id],accessSearch:b.target.value}})),disabled:q===a.id}),(0,b.jsx)("div",{className:d.default.multiSelectOptions,children:E.filter(b=>{let c=w[a.id]?.accessSearch||"";return!w[a.id]?.accessPages?.includes(b.id)&&(""===c||b.name.toLowerCase().includes(c.toLowerCase())||b.id.toLowerCase().includes(c.toLowerCase()))}).map(c=>(0,b.jsx)("div",{className:d.default.multiSelectOption,onClick:()=>x(b=>({...b,[a.id]:{...b[a.id],accessPages:[...b[a.id]?.accessPages||[],c.id],accessSearch:""}})),children:c.name},c.id))}),(0,b.jsx)("div",{className:d.default.multiSelectTags,children:(w[a.id]?.accessPages||[]).map(c=>(0,b.jsxs)("span",{className:d.default.multiSelectTag,children:[E.find(a=>a.id===c)?.name||c,(0,b.jsx)("button",{type:"button",className:d.default.multiSelectRemove,onClick:()=>x(b=>({...b,[a.id]:{...b[a.id],accessPages:b[a.id].accessPages.filter(a=>a!==c)}})),disabled:q===a.id,children:"‚úï"})]},c))})]}),u[`edit_access_${a.id}`]&&(0,b.jsx)("span",{className:"error-text",children:u[`edit_access_${a.id}`]})]}):(0,b.jsx)("div",{className:"access-tags",children:a.accessPages.map(a=>(0,b.jsx)("span",{className:"access-tag",children:E.find(b=>b.id===a)?.name||a},a))})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:`status-badge ${a.isActive?"active":"inactive"} ${q===a.id?"processing":""}`,children:a.isActive?"Active":"Inactive"})}),(0,b.jsx)("td",{children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsxs)("td",{children:[(0,b.jsx)("div",{className:"user-actions",children:a.isEditing?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:"action-btn save-btn",onClick:()=>N(a.id),title:"Save Changes",disabled:q===a.id,children:q===a.id?"‚è≥":"‚úì"}),(0,b.jsx)("button",{className:"action-btn cancel-btn",onClick:()=>M(a.id),title:"Cancel Edit",disabled:q===a.id,children:"‚úï"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:"action-btn toggle-btn",onClick:()=>P(a.id),title:a.isActive?"Deactivate User":"Activate User",disabled:q===a.id,children:q===a.id?"‚è≥":a.isActive?"‚è∏Ô∏è":"‚ñ∂Ô∏è"}),(0,b.jsx)("button",{className:"action-btn edit-btn",onClick:()=>O(a.id),title:"Edit User",disabled:null!==q,children:"‚úèÔ∏è"}),(0,b.jsx)("button",{className:"action-btn delete-btn",onClick:()=>Q(a.id,a.name),title:"Delete User",disabled:q===a.id,children:q===a.id?"‚è≥":"üóëÔ∏è"})]})}),u[`edit_submit_${a.id}`]&&(0,b.jsx)("div",{className:"error-text",children:u[`edit_submit_${a.id}`]})]})]},a.id))})]})})})]})]})]})})}],15197)}];

//# sourceMappingURL=src_app_users_f3738981._.js.map